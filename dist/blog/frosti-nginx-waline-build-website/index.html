<!DOCTYPE html><html class=bg-base-300 data-theme=winter data-theme-type=light lang=zh><head><meta charset=UTF-8><title>Frosti+Nginx+Waline建站全过程 - Dalekov</title><meta charset=utf-8><meta content="width=device-width,initial-scale=1" name=viewport><link href=/favicon.svg rel=icon type=image><meta content="Astro v4.16.18" name=generator><title>Dalekov&#39;s Blog</title><meta content="Dalekov's Blog" name=description><link href=https://www.tankimzeg.top/blog/frosti-nginx-waline-build-website/ rel=canonical><script>!function(){const t="winter",e="dracula";!function(){const a=localStorage.getItem("theme")||(window.matchMedia("(prefers-color-scheme: dark)").matches?"light":"dark"),c="light"===a?t:e;["light","dark"].includes(a)||localStorage.setItem("theme","light"),document.documentElement.setAttribute("data-theme-type",a),document.documentElement.setAttribute("data-theme",c)}()}()</script><link href=/_astro/about.D-OsvzzG.css rel=stylesheet><style>details[data-astro-cid-2nyno3gu][open] summary[data-astro-cid-2nyno3gu]~[data-astro-cid-2nyno3gu]{animation:slide-in .3s ease-in-out}@keyframes slide-in{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}</style><script type=module src=/_astro/hoisted.BqRUud2z.js></script><script type=module src=/_astro/page.Dtutpz_a.js></script></head><body><navbar class="w-full bg-base-100 md:hidden transition-transform delay-300 duration-500 ease-in-out fixed navbar px-2 shadow-lg text-center transform z-50" data-astro-cid-5blmo7yk id=navbar><div class=navbar-start data-astro-cid-5blmo7yk><label class="btn btn-ghost swap swap-rotate" data-astro-cid-5blmo7yk><input id=menu-toggle type=checkbox data-astro-cid-5blmo7yk> <svg class="swap-off h-8 w-8" height=1em width=1em data-icon=mdi:menu data-astro-cid-5blmo7yk><symbol id=ai:mdi:menu viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z" fill=currentColor /></symbol><use href=#ai:mdi:menu></use></svg> <svg class="swap-on h-8 w-8" height=1em width=1em data-icon=mdi:close data-astro-cid-5blmo7yk><symbol id=ai:mdi:close viewBox="0 0 24 24"><path d="M19 6.41L17.59 5L12 10.59L6.41 5L5 6.41L10.59 12L5 17.59L6.41 19L12 13.41L17.59 19L19 17.59L13.41 12z" fill=currentColor /></symbol><use href=#ai:mdi:close></use></svg></label></div><div class=navbar-center data-astro-cid-5blmo7yk><a class="btn btn-ghost hover:scale-105 transition-transform duration-300 text-xl" href=/ data-astro-cid-5blmo7yk>Dalekov&#39;s Blog</a></div><div class=navbar-end data-astro-cid-5blmo7yk><frosti-theme class="flex ustify-center w-auto" data-dark=dracula data-light=winter id=navbar-theme><button class="btn btn-ghost w-auto" id=themeButton><label class=hidden for=themeToggle id=themeLabel><span class=sr-only>Theme Toggle</span> <input id=themeToggle type=checkbox> <svg class="swap-on fill-current h-10 w-10" viewBox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d=M5.64,17l-.71.71a1,1,0,0,0,0,1.41,1,1,0,0,0,1.41,0l.71-.71A1,1,0,0,0,5.64,17ZM5,12a1,1,0,0,0-1-1H3a1,1,0,0,0,0,2H4A1,1,0,0,0,5,12Zm7-7a1,1,0,0,0,1-1V3a1,1,0,0,0-2,0V4A1,1,0,0,0,12,5ZM5.64,7.05a1,1,0,0,0,.7.29,1,1,0,0,0,.71-.29,1,1,0,0,0,0-1.41l-.71-.71A1,1,0,0,0,4.93,6.34Zm12,.29a1,1,0,0,0,.7-.29l.71-.71a1,1,0,1,0-1.41-1.41L17,5.64a1,1,0,0,0,0,1.41A1,1,0,0,0,17.66,7.34ZM21,11H20a1,1,0,0,0,0,2h1a1,1,0,0,0,0-2Zm-9,8a1,1,0,0,0-1,1v1a1,1,0,0,0,2,0V20A1,1,0,0,0,12,19ZM18.36,17A1,1,0,0,0,17,18.36l.71.71a1,1,0,0,0,1.41,0,1,1,0,0,0,0-1.41ZM12,6.5A5.5,5.5,0,1,0,17.5,12,5.51,5.51,0,0,0,12,6.5Zm0,9A3.5,3.5,0,1,1,15.5,12,3.5,3.5,0,0,1,12,15.5Z></path></svg> <svg class="swap-off fill-current h-10 w-10" viewBox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d=M21.64,13a1,1,0,0,0-1.05-.14,8.05,8.05,0,0,1-3.37.73A8.15,8.15,0,0,1,9.08,5.49a8.59,8.59,0,0,1,.25-2A1,1,0,0,0,8,2.36,10.14,10.14,0,1,0,22,14.05,1,1,0,0,0,21.64,13Zm-9.5,6.69A8.14,8.14,0,0,1,7.08,5.22v.27A10.15,10.15,0,0,0,17.22,15.63a9.79,9.79,0,0,0,2.1-.22A8.11,8.11,0,0,1,12.14,19.73Z></path></svg></label></button></frosti-theme></div><div class="w-full transition-transform duration-300 -translate-x-full absolute ease-in-out left-0 top-full transform" data-astro-cid-5blmo7yk id=header-menu><ul class="dropdown-content bg-base-100 menu menu-sm p-2 rounded-br-box shadow-lg w-60" id=header-menu><li class="w-full relative"><a class="items-center flex p-4 font-bold text-center text-xl justify-start" href=/ aria-label=Home target=_self id=home tabindex=0 title=home><svg viewBox="0 0 24 24" height=1em width=1em data-icon=material-symbols:home-outline-rounded><use href=#ai:material-symbols:home-outline-rounded></use></svg> <span class=ml-2>Home</span></a></li><li class="w-full relative"><a class="items-center flex p-4 font-bold text-center text-xl justify-start" href=/about aria-label=About target=_self id=about tabindex=0 title=about><svg viewBox="0 0 24 24" height=1em width=1em data-icon=material-symbols:info-outline-rounded><use href=#ai:material-symbols:info-outline-rounded></use></svg> <span class=ml-2>About</span></a></li><li class="w-full relative"><details class=menu-item><summary class="items-center justify-start font-bold p-4 text-center text-xl"><svg viewBox="0 0 24 24" height=1em width=1em data-icon=material-symbols:book-2-outline-rounded><use href=#ai:material-symbols:book-2-outline-rounded></use></svg> <span class=ml-2>Blogs</span></summary><ul><li><a class="menu-item font-bold text-base p-3" href=/blog aria-label="All blogs" target=_self id=header-all tabindex=0><svg viewBox="0 0 24 24" height=1em width=1em data-icon=material-symbols:ink-pen-outline-rounded><use href=#ai:material-symbols:ink-pen-outline-rounded></use></svg> <span class=ml-2>All blogs</span></a></li><li><a class="menu-item font-bold text-base p-3" href=/blog/categories/tech aria-label="Tech blogs" target=_self id=header-tech tabindex=0><svg viewBox="0 0 24 24" height=1em width=1em data-icon=material-symbols:deployed-code-outline><use href=#ai:material-symbols:deployed-code-outline></use></svg> <span class=ml-2>Tech blogs</span></a></li><li><a class="menu-item font-bold text-base p-3" href=/blog/categories/life aria-label="Life blogs" target=_self id=header-life tabindex=0><svg viewBox="0 0 24 24" height=1em width=1em data-icon=material-symbols:earthquake-rounded><use href=#ai:material-symbols:earthquake-rounded></use></svg> <span class=ml-2>Life blogs</span></a></li></ul></details></li><li class="w-full relative"><a class="items-center flex p-4 font-bold text-center text-xl justify-start" href=/project aria-label=Projects target=_self id=project tabindex=0 title=project><svg viewBox="0 0 24 24" height=1em width=1em data-icon=material-symbols:code-blocks-outline><use href=#ai:material-symbols:code-blocks-outline></use></svg> <span class=ml-2>Projects</span></a></li><li class="w-full relative"><a class="items-center flex p-4 font-bold text-center text-xl justify-start" href=/archive aria-label=Archive target=_self id=archive tabindex=0 title=archive><svg viewBox="0 0 24 24" height=1em width=1em data-icon=material-symbols:archive-outline-rounded><use href=#ai:material-symbols:archive-outline-rounded></use></svg> <span class=ml-2>Archive</span></a></li><li class="w-full relative"><a class="items-center flex p-4 font-bold text-center text-xl justify-start" href=/friend aria-label=Friends target=_self id=friend tabindex=0 title=friend><svg viewBox="0 0 24 24" height=1em width=1em data-icon=material-symbols:supervisor-account-outline-rounded><use href=#ai:material-symbols:supervisor-account-outline-rounded></use></svg> <span class=ml-2>Friends</span></a></li></ul></div></navbar><div class="max-w-6xl mx-auto"><div class="relative gap-4 grid lg:grid-cols-4 lg:p-4 lg:text-lg md:grid-cols-5 md:top-0 p-0 text-base top-20"><aside class="space-y-4 hidden md:block md:col-span-1 md:order-1 order-2 p-2 top-4"><div class="w-full bg-base-100 p-4 rounded-xl mb-8 shadow-xl flex-col gap-4 lg:relative md:sticky sticky" data-astro-cid-c7gr6yg2><div class="transition-transform hover:scale-105 avatar p-4" data-astro-cid-c7gr6yg2><img alt=Profile decoding=async height=300 loading=eager src=/myProfile.jpg width=300 class="mask mask-circle" data-astro-cid-c7gr6yg2></div><ul class="items-center flex flex-col bg-base-100 lg:items-start m-0 menu w-full" data-astro-cid-c7gr6yg2><li class="w-full relative group" data-astro-cid-c7gr6yg2><a class="items-center flex rounded-lg font-bold hover:bg-base-200 justify-center lg:justify-start lg:text-xl md:text-3xl p-4 text-center text-xl transition-color transition-scale" href=/ aria-label=Home target=_self id=home tabindex=0 title=home data-astro-cid-c7gr6yg2><svg class="transition-transform duration-200 group-hover:scale-110" height=1em width=1em data-icon=material-symbols:home-outline-rounded data-astro-cid-c7gr6yg2><symbol id=ai:material-symbols:home-outline-rounded viewBox="0 0 24 24"><path d="M6 19h3v-5q0-.425.288-.712T10 13h4q.425 0 .713.288T15 14v5h3v-9l-6-4.5L6 10zm-2 0v-9q0-.475.213-.9t.587-.7l6-4.5q.525-.4 1.2-.4t1.2.4l6 4.5q.375.275.588.7T20 10v9q0 .825-.588 1.413T18 21h-4q-.425 0-.712-.288T13 20v-5h-2v5q0 .425-.288.713T10 21H6q-.825 0-1.412-.587T4 19m8-6.75" fill=currentColor /></symbol><use href=#ai:material-symbols:home-outline-rounded></use></svg> <span class="transition-transform duration-200 group-hover:translate-x-1 hidden lg:inline ml-2" data-astro-cid-c7gr6yg2>Home</span></a></li><li class="w-full relative group" data-astro-cid-c7gr6yg2><a class="items-center flex rounded-lg font-bold hover:bg-base-200 justify-center lg:justify-start lg:text-xl md:text-3xl p-4 text-center text-xl transition-color transition-scale" href=/about aria-label=About target=_self id=about tabindex=0 title=about data-astro-cid-c7gr6yg2><svg class="transition-transform duration-200 group-hover:scale-110" height=1em width=1em data-icon=material-symbols:info-outline-rounded data-astro-cid-c7gr6yg2><symbol id=ai:material-symbols:info-outline-rounded viewBox="0 0 24 24"><path d="M12 17q.425 0 .713-.288T13 16v-4q0-.425-.288-.712T12 11t-.712.288T11 12v4q0 .425.288.713T12 17m0-8q.425 0 .713-.288T13 8t-.288-.712T12 7t-.712.288T11 8t.288.713T12 9m0 13q-2.075 0-3.9-.788t-3.175-2.137T2.788 15.9T2 12t.788-3.9t2.137-3.175T8.1 2.788T12 2t3.9.788t3.175 2.137T21.213 8.1T22 12t-.788 3.9t-2.137 3.175t-3.175 2.138T12 22m0-2q3.35 0 5.675-2.325T20 12t-2.325-5.675T12 4T6.325 6.325T4 12t2.325 5.675T12 20m0-8" fill=currentColor /></symbol><use href=#ai:material-symbols:info-outline-rounded></use></svg> <span class="transition-transform duration-200 group-hover:translate-x-1 hidden lg:inline ml-2" data-astro-cid-c7gr6yg2>About</span></a></li><li class="w-full relative group" data-astro-cid-c7gr6yg2><details class="w-full menu-item" data-astro-cid-c7gr6yg2><summary class="items-center rounded-lg font-bold hover:bg-base-200 justify-center lg:justify-start lg:text-xl md:text-3xl p-4 text-center text-xl transition-color transition-scale" data-astro-cid-c7gr6yg2><svg class="transition-transform duration-200 group-hover:scale-110" height=1em width=1em data-icon=material-symbols:book-2-outline-rounded data-astro-cid-c7gr6yg2><symbol id=ai:material-symbols:book-2-outline-rounded viewBox="0 0 24 24"><path d="M6 15.325q.35-.175.725-.25T7.5 15H8V4h-.5q-.625 0-1.062.438T6 5.5zM10 15h8V4h-8zm-4 .325V4zM7.5 22q-1.45 0-2.475-1.025T4 18.5v-13q0-1.45 1.025-2.475T7.5 2H18q.825 0 1.413.587T20 4v12.525q0 .2-.162.363t-.588.362q-.35.175-.55.5t-.2.75t.2.763t.55.487t.55.413t.2.562v.25q0 .425-.288.725T19 22zm0-2h9.325q-.15-.35-.237-.712T16.5 18.5q0-.4.075-.775t.25-.725H7.5q-.65 0-1.075.438T6 18.5q0 .65.425 1.075T7.5 20" fill=currentColor /></symbol><use href=#ai:material-symbols:book-2-outline-rounded></use></svg> <span class="transition-transform duration-200 group-hover:translate-x-1 hidden lg:inline ml-2" data-astro-cid-c7gr6yg2>Blogs</span></summary><ul class="w-full bg-base-100 rounded-lg" data-astro-cid-c7gr6yg2><li class="relative group" data-astro-cid-c7gr6yg2><a class="transition-color transition-scale font-bold hover:bg-base-200 rounded-lg lg:text-base md:text-2xl menu-item p-2 text-base" href=/blog aria-label="All blogs" target=_self id=header-all tabindex=0 data-astro-cid-c7gr6yg2><svg class="transition-transform duration-200 group-hover:scale-110" height=1em width=1em data-icon=material-symbols:ink-pen-outline-rounded data-astro-cid-c7gr6yg2><symbol id=ai:material-symbols:ink-pen-outline-rounded viewBox="0 0 24 24"><path d="m12.25 10.825l.925.925L18.6 6.325l-.925-.925zM5 19h.925l5.825-5.825l-.925-.925L5 18.075zm8.875-5.125l-3.75-3.75L14.3 5.95l-.725-.725L8.8 10q-.3.3-.7.3t-.7-.3t-.3-.712t.3-.713l4.75-4.75q.6-.6 1.413-.6t1.412.6l.725.725l1.25-1.25q.3-.3.713-.3t.712.3L20.7 5.625q.3.3.3.712t-.3.713zM4 21q-.425 0-.712-.288T3 20v-1.925q0-.4.15-.763t.425-.637l6.55-6.55l3.75 3.75l-6.55 6.55q-.275.275-.638.425t-.762.15z" fill=currentColor /></symbol><use href=#ai:material-symbols:ink-pen-outline-rounded></use></svg> <span class="transition-transform duration-200 group-hover:translate-x-1 hidden lg:inline ml-2" data-astro-cid-c7gr6yg2>All blogs</span></a></li><li class="relative group" data-astro-cid-c7gr6yg2><a class="transition-color transition-scale font-bold hover:bg-base-200 rounded-lg lg:text-base md:text-2xl menu-item p-2 text-base" href=/blog/categories/tech aria-label="Tech blogs" target=_self id=header-tech tabindex=0 data-astro-cid-c7gr6yg2><svg class="transition-transform duration-200 group-hover:scale-110" height=1em width=1em data-icon=material-symbols:deployed-code-outline data-astro-cid-c7gr6yg2><symbol id=ai:material-symbols:deployed-code-outline viewBox="0 0 24 24"><path d="M11 19.425v-6.85L5 9.1v6.85zm2 0l6-3.475V9.1l-6 3.475zm-1-8.575l5.925-3.425L12 4L6.075 7.425zM4 17.7q-.475-.275-.737-.725t-.263-1v-7.95q0-.55.263-1T4 6.3l7-4.025Q11.475 2 12 2t1 .275L20 6.3q.475.275.738.725t.262 1v7.95q0 .55-.262 1T20 17.7l-7 4.025Q12.525 22 12 22t-1-.275zm8-5.7" fill=currentColor /></symbol><use href=#ai:material-symbols:deployed-code-outline></use></svg> <span class="transition-transform duration-200 group-hover:translate-x-1 hidden lg:inline ml-2" data-astro-cid-c7gr6yg2>Tech blogs</span></a></li><li class="relative group" data-astro-cid-c7gr6yg2><a class="transition-color transition-scale font-bold hover:bg-base-200 rounded-lg lg:text-base md:text-2xl menu-item p-2 text-base" href=/blog/categories/life aria-label="Life blogs" target=_self id=header-life tabindex=0 data-astro-cid-c7gr6yg2><svg class="transition-transform duration-200 group-hover:scale-110" height=1em width=1em data-icon=material-symbols:earthquake-rounded data-astro-cid-c7gr6yg2><symbol id=ai:material-symbols:earthquake-rounded viewBox="0 0 24 24"><path d="M9.025 22q-.35 0-.612-.187T8.05 21.3L5.5 13H3q-.425 0-.712-.288T2 12t.288-.712T3 11h3.25q.325 0 .588.188t.362.512l1.65 5.375L12.025 2.8q.075-.35.35-.575T13 2t.625.213t.35.562l2.175 9.4l1.4-4.475q.1-.325.362-.512T18.5 7t.575.175t.375.475L20.7 11h.3q.425 0 .713.288T22 12t-.288.713T21 13h-1q-.325 0-.575-.175t-.375-.475l-.475-1.275L16.95 16.3q-.1.325-.375.525T15.95 17t-.6-.238t-.325-.537L13 7.525l-3.025 13.7q-.075.35-.337.55T9.025 22" fill=currentColor /></symbol><use href=#ai:material-symbols:earthquake-rounded></use></svg> <span class="transition-transform duration-200 group-hover:translate-x-1 hidden lg:inline ml-2" data-astro-cid-c7gr6yg2>Life blogs</span></a></li></ul></details></li><li class="w-full relative group" data-astro-cid-c7gr6yg2><a class="items-center flex rounded-lg font-bold hover:bg-base-200 justify-center lg:justify-start lg:text-xl md:text-3xl p-4 text-center text-xl transition-color transition-scale" href=/project aria-label=Projects target=_self id=project tabindex=0 title=project data-astro-cid-c7gr6yg2><svg class="transition-transform duration-200 group-hover:scale-110" height=1em width=1em data-icon=material-symbols:code-blocks-outline data-astro-cid-c7gr6yg2><symbol id=ai:material-symbols:code-blocks-outline viewBox="0 0 24 24"><path d="m9.6 15.6l1.4-1.425L8.825 12L11 9.825L9.6 8.4L6 12zm4.8 0L18 12l-3.6-3.6L13 9.825L15.175 12L13 14.175zM5 21q-.825 0-1.412-.587T3 19V5q0-.825.588-1.412T5 3h14q.825 0 1.413.588T21 5v14q0 .825-.587 1.413T19 21zm0-2h14V5H5zM5 5v14z" fill=currentColor /></symbol><use href=#ai:material-symbols:code-blocks-outline></use></svg> <span class="transition-transform duration-200 group-hover:translate-x-1 hidden lg:inline ml-2" data-astro-cid-c7gr6yg2>Projects</span></a></li><li class="w-full relative group" data-astro-cid-c7gr6yg2><a class="items-center flex rounded-lg font-bold hover:bg-base-200 justify-center lg:justify-start lg:text-xl md:text-3xl p-4 text-center text-xl transition-color transition-scale" href=/archive aria-label=Archive target=_self id=archive tabindex=0 title=archive data-astro-cid-c7gr6yg2><svg class="transition-transform duration-200 group-hover:scale-110" height=1em width=1em data-icon=material-symbols:archive-outline-rounded data-astro-cid-c7gr6yg2><symbol id=ai:material-symbols:archive-outline-rounded viewBox="0 0 24 24"><path d="M12 10q-.425 0-.712.288T11 11v3.2l-.9-.9q-.275-.275-.7-.275t-.7.275t-.275.7t.275.7l2.6 2.6q.3.3.7.3t.7-.3l2.6-2.6q.275-.275.275-.7t-.275-.7t-.7-.275t-.7.275l-.9.9V11q0-.425-.288-.712T12 10M5 8v11h14V8zm0 13q-.825 0-1.412-.587T3 19V6.525q0-.35.113-.675t.337-.6L4.7 3.725q.275-.35.687-.538T6.25 3h11.5q.45 0 .863.188t.687.537l1.25 1.525q.225.275.338.6t.112.675V19q0 .825-.587 1.413T19 21zm.4-15h13.2l-.85-1H6.25zm6.6 7.5" fill=currentColor /></symbol><use href=#ai:material-symbols:archive-outline-rounded></use></svg> <span class="transition-transform duration-200 group-hover:translate-x-1 hidden lg:inline ml-2" data-astro-cid-c7gr6yg2>Archive</span></a></li><li class="w-full relative group" data-astro-cid-c7gr6yg2><a class="items-center flex rounded-lg font-bold hover:bg-base-200 justify-center lg:justify-start lg:text-xl md:text-3xl p-4 text-center text-xl transition-color transition-scale" href=/friend aria-label=Friends target=_self id=friend tabindex=0 title=friend data-astro-cid-c7gr6yg2><svg class="transition-transform duration-200 group-hover:scale-110" height=1em width=1em data-icon=material-symbols:supervisor-account-outline-rounded data-astro-cid-c7gr6yg2><symbol id=ai:material-symbols:supervisor-account-outline-rounded viewBox="0 0 24 24"><path d="M17 15q-1.05 0-1.775-.725T14.5 12.5t.725-1.775T17 10t1.775.725t.725 1.775t-.725 1.775T17 15m-5 4v-.4q0-.6.313-1.112t.887-.738q.9-.375 1.863-.562T17 16t1.938.188t1.862.562q.575.225.888.738T22 18.6v.4q0 .425-.288.713T21 20h-8q-.425 0-.712-.288T12 19m-2-7q-1.65 0-2.825-1.175T6 8t1.175-2.825T10 4t2.825 1.175T14 8t-1.175 2.825T10 12m-8 5.2q0-.85.425-1.562T3.6 14.55q1.5-.75 3.113-1.15T10 13q.875 0 1.75.15t1.75.35l-.85.85l-.85.85q-.45-.125-.9-.162T10 15q-1.45 0-2.838.35t-2.662 1q-.25.125-.375.35T4 17.2v.8h6v.975q0 .325.125.588t.35.437H4q-.825 0-1.412-.587T2 18zm8-7.2q.825 0 1.413-.587T12 8t-.587-1.412T10 6t-1.412.588T8 8t.588 1.413T10 10" fill=currentColor /></symbol><use href=#ai:material-symbols:supervisor-account-outline-rounded></use></svg> <span class="transition-transform duration-200 group-hover:translate-x-1 hidden lg:inline ml-2" data-astro-cid-c7gr6yg2>Friends</span></a></li></ul><div class="bg-base-200 gap-4 p-4 rounded-lg text-center" data-astro-cid-c7gr6yg2><a class="transition-color transition-scale text-center duration-200 hover:rotate-6 hover:scale-110 inline-block leading-[30px] m-[0_5px] rounded-[10px] text-2xl w-[30px]" href=https://github.com/TanKimzeg aria-label=Github target=_blank title=Github data-astro-cid-c7gr6yg2><svg data-astro-cid-c7gr6yg2 data-icon=ri:github-line height=1em width=1em><symbol id=ai:ri:github-line viewBox="0 0 24 24"><path d="M5.884 18.653c-.3-.2-.558-.455-.86-.816a51 51 0 0 1-.466-.579c-.463-.575-.755-.841-1.056-.95a1 1 0 1 1 .675-1.882c.752.27 1.261.735 1.947 1.588c-.094-.117.34.427.433.539c.19.227.33.365.44.438c.204.137.588.196 1.15.14c.024-.382.094-.753.202-1.095c-2.968-.726-4.648-2.64-4.648-6.396c0-1.24.37-2.356 1.058-3.292c-.218-.894-.185-1.975.302-3.192a1 1 0 0 1 .63-.582c.081-.024.127-.035.208-.047c.803-.124 1.937.17 3.415 1.096a11.7 11.7 0 0 1 2.687-.308c.912 0 1.819.104 2.684.308c1.477-.933 2.614-1.227 3.422-1.096q.128.02.218.05a1 1 0 0 1 .616.58c.487 1.216.52 2.296.302 3.19c.691.936 1.058 2.045 1.058 3.293c0 3.757-1.674 5.665-4.642 6.392c.125.415.19.878.19 1.38c0 .665-.002 1.299-.007 2.01c0 .19-.002.394-.005.706a1 1 0 0 1-.018 1.958c-1.14.227-1.984-.532-1.984-1.525l.002-.447l.005-.705c.005-.707.008-1.337.008-1.997c0-.697-.184-1.152-.426-1.361c-.661-.57-.326-1.654.541-1.751c2.966-.333 4.336-1.482 4.336-4.66c0-.955-.312-1.744-.913-2.404A1 1 0 0 1 17.2 6.19c.166-.414.236-.957.095-1.614l-.01.003c-.491.139-1.11.44-1.858.949a1 1 0 0 1-.833.135a9.6 9.6 0 0 0-2.592-.349c-.89 0-1.772.118-2.592.35a1 1 0 0 1-.829-.134c-.753-.507-1.374-.807-1.87-.947c-.143.653-.072 1.194.093 1.607a1 1 0 0 1-.189 1.045c-.597.655-.913 1.458-.913 2.404c0 3.172 1.371 4.328 4.322 4.66c.865.097 1.202 1.177.545 1.748c-.193.168-.43.732-.43 1.364v3.15c0 .985-.834 1.725-1.96 1.528a1 1 0 0 1-.04-1.962v-.99c-.91.061-1.661-.088-2.254-.485" fill=currentColor /></symbol><use href=#ai:ri:github-line></use></svg> </a><a class="transition-color transition-scale text-center duration-200 hover:rotate-6 hover:scale-110 inline-block leading-[30px] m-[0_5px] rounded-[10px] text-2xl w-[30px]" href=https://www.zhihu.com/people/dalekov aria-label=Zhihu target=_blank title=Zhihu data-astro-cid-c7gr6yg2><svg data-astro-cid-c7gr6yg2 data-icon=ri:zhihu-line height=1em width=1em><symbol id=ai:ri:zhihu-line viewBox="0 0 24 24"><path d="m12.345 17.963l-1.688 1.074l-2.132-3.35c-.44 1.402-1.171 2.665-2.138 3.825c-.402.483-.82.918-1.301 1.376c-.155.146-.775.716-.878.82l-1.414-1.415c.139-.139.787-.735.914-.856c.43-.408.796-.79 1.143-1.205C6.117 16.712 6.88 15.02 6.988 13H3v-2h4V7h-.868c-.689 1.266-1.558 2.222-2.618 2.858L2.486 8.143c1.396-.838 2.426-2.603 3.039-5.36l1.952.434q-.21.95-.489 1.783h4.513v2H9v4h2.5v2H9.186zm3.838-.07L17.3 17h1.702V7h-4v10h.736zM13.001 5h8v14h-3l-2.5 2l-1-2H13z" fill=currentColor /></symbol><use href=#ai:ri:zhihu-line></use></svg> </a><a class="transition-color transition-scale text-center duration-200 hover:rotate-6 hover:scale-110 inline-block leading-[30px] m-[0_5px] rounded-[10px] text-2xl w-[30px]" href=https://space.bilibili.com/3493121543375815 aria-label=BiliBili target=_blank title=BiliBili data-astro-cid-c7gr6yg2><svg data-astro-cid-c7gr6yg2 data-icon=ri:bilibili-line height=1em width=1em><symbol id=ai:ri:bilibili-line viewBox="0 0 24 24"><path d="M7.172 2.757L10.414 6h3.171l3.243-3.242a1 1 0 1 1 1.415 1.415L16.414 6H18.5A3.5 3.5 0 0 1 22 9.5v8a3.5 3.5 0 0 1-3.5 3.5h-13A3.5 3.5 0 0 1 2 17.5v-8A3.5 3.5 0 0 1 5.5 6h2.085L5.757 4.171a1 1 0 0 1 1.415-1.415M18.5 8h-13a1.5 1.5 0 0 0-1.493 1.356L4 9.5v8a1.5 1.5 0 0 0 1.356 1.493L5.5 19h13a1.5 1.5 0 0 0 1.493-1.355L20 17.5v-8A1.5 1.5 0 0 0 18.5 8M8 11a1 1 0 0 1 1 1v2a1 1 0 1 1-2 0v-2a1 1 0 0 1 1-1m8 0a1 1 0 0 1 1 1v2a1 1 0 1 1-2 0v-2a1 1 0 0 1 1-1" fill=currentColor /></symbol><use href=#ai:ri:bilibili-line></use></svg></a></div></div><div class="w-full relative bg-base-100 mb-8 p-4 rounded-xl shadow-xl"><div class="mb-4 px-4"><div class="btn btn-ghost btn-sm font-bold no-animation w-full">Categories</div></div><div class="flex gap-2 flex-wrap max-h-[300px] overflow-auto p-1 w-full"><span class="relative group inline-flex"><a class="btn btn-xs duration-300 hover:-translate-y-0.5 hover:shadow-md px-3 transition-all btn-category" href=/blog/categories/tech>tech <span class="items-center justify-center rounded-full bg-base-100/10 font-medium inline-flex min-w-[1.5rem] ml-1.5 px-1.5 text-xs">36</span></a></span></div></div><div class="w-full relative bg-base-100 mb-8 p-4 rounded-xl shadow-xl"><div class="mb-4 px-4"><div class="btn btn-ghost btn-sm font-bold no-animation w-full">Tags</div></div><div class="flex gap-2 flex-wrap max-h-[300px] overflow-auto p-1 w-full"><span class="relative group inline-flex"><a class="btn btn-xs btn-tag duration-300 hover:-translate-y-0.5 hover:shadow-md px-3 transition-all" href=/blog/tags/network>network <span class="items-center justify-center rounded-full bg-base-100/10 font-medium inline-flex min-w-[1.5rem] ml-1.5 px-1.5 text-xs">1 </span></a></span><span class="relative group inline-flex"><a class="btn btn-xs btn-tag duration-300 hover:-translate-y-0.5 hover:shadow-md px-3 transition-all" href=/blog/tags/网络安全>网络安全 <span class="items-center justify-center rounded-full bg-base-100/10 font-medium inline-flex min-w-[1.5rem] ml-1.5 px-1.5 text-xs">1 </span></a></span><span class="relative group inline-flex"><a class="btn btn-xs btn-tag duration-300 hover:-translate-y-0.5 hover:shadow-md px-3 transition-all" href=/blog/tags/vim>vim <span class="items-center justify-center rounded-full bg-base-100/10 font-medium inline-flex min-w-[1.5rem] ml-1.5 px-1.5 text-xs">1 </span></a></span><span class="relative group inline-flex"><a class="btn btn-xs btn-tag duration-300 hover:-translate-y-0.5 hover:shadow-md px-3 transition-all" href=/blog/tags/csapp>csapp <span class="items-center justify-center rounded-full bg-base-100/10 font-medium inline-flex min-w-[1.5rem] ml-1.5 px-1.5 text-xs">30 </span></a></span><span class="relative group inline-flex"><a class="btn btn-xs btn-tag duration-300 hover:-translate-y-0.5 hover:shadow-md px-3 transition-all" href=/blog/tags/csapplab>csapplab <span class="items-center justify-center rounded-full bg-base-100/10 font-medium inline-flex min-w-[1.5rem] ml-1.5 px-1.5 text-xs">7 </span></a></span><span class="relative group inline-flex"><a class="btn btn-xs btn-tag duration-300 hover:-translate-y-0.5 hover:shadow-md px-3 transition-all" href=/blog/tags/os>os <span class="items-center justify-center rounded-full bg-base-100/10 font-medium inline-flex min-w-[1.5rem] ml-1.5 px-1.5 text-xs">6 </span></a></span><span class="relative group inline-flex"><a class="btn btn-xs btn-tag duration-300 hover:-translate-y-0.5 hover:shadow-md px-3 transition-all" href=/blog/tags/内存取证>内存取证 <span class="items-center justify-center rounded-full bg-base-100/10 font-medium inline-flex min-w-[1.5rem] ml-1.5 px-1.5 text-xs">2 </span></a></span><span class="relative group inline-flex"><a class="btn btn-xs btn-tag duration-300 hover:-translate-y-0.5 hover:shadow-md px-3 transition-all" href=/blog/tags/nixos>nixos <span class="items-center justify-center rounded-full bg-base-100/10 font-medium inline-flex min-w-[1.5rem] ml-1.5 px-1.5 text-xs">1</span></a></span></div></div><div class="w-full grid gap-8 sticky top-8"><div class="w-full shadow-xl rounded-xl"><div class="w-full bg-base-100 p-4 rounded-xl gap-4 grid grid-cols-2 justify-center lg:grid-cols-2 md:grid-cols-1" id=button-box><frosti-theme class="flex ustify-center card" data-dark=dracula data-light=winter id=side-theme-button><button class="btn btn-ghost card" id=themeButton><label class=hidden for=themeToggle id=themeLabel><span class=sr-only>Theme Toggle</span> <input id=themeToggle type=checkbox> <svg class="swap-on fill-current h-10 w-10" viewBox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d=M5.64,17l-.71.71a1,1,0,0,0,0,1.41,1,1,0,0,0,1.41,0l.71-.71A1,1,0,0,0,5.64,17ZM5,12a1,1,0,0,0-1-1H3a1,1,0,0,0,0,2H4A1,1,0,0,0,5,12Zm7-7a1,1,0,0,0,1-1V3a1,1,0,0,0-2,0V4A1,1,0,0,0,12,5ZM5.64,7.05a1,1,0,0,0,.7.29,1,1,0,0,0,.71-.29,1,1,0,0,0,0-1.41l-.71-.71A1,1,0,0,0,4.93,6.34Zm12,.29a1,1,0,0,0,.7-.29l.71-.71a1,1,0,1,0-1.41-1.41L17,5.64a1,1,0,0,0,0,1.41A1,1,0,0,0,17.66,7.34ZM21,11H20a1,1,0,0,0,0,2h1a1,1,0,0,0,0-2Zm-9,8a1,1,0,0,0-1,1v1a1,1,0,0,0,2,0V20A1,1,0,0,0,12,19ZM18.36,17A1,1,0,0,0,17,18.36l.71.71a1,1,0,0,0,1.41,0,1,1,0,0,0,0-1.41ZM12,6.5A5.5,5.5,0,1,0,17.5,12,5.51,5.51,0,0,0,12,6.5Zm0,9A3.5,3.5,0,1,1,15.5,12,3.5,3.5,0,0,1,12,15.5Z></path></svg> <svg class="swap-off fill-current h-10 w-10" viewBox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d=M21.64,13a1,1,0,0,0-1.05-.14,8.05,8.05,0,0,1-3.37.73A8.15,8.15,0,0,1,9.08,5.49a8.59,8.59,0,0,1,.25-2A1,1,0,0,0,8,2.36,10.14,10.14,0,1,0,22,14.05,1,1,0,0,0,21.64,13Zm-9.5,6.69A8.14,8.14,0,0,1,7.08,5.22v.27A10.15,10.15,0,0,0,17.22,15.63a9.79,9.79,0,0,0,2.1-.22A8.11,8.11,0,0,1,12.14,19.73Z></path></svg></label></button></frosti-theme><frosti-backtotop class="flex ustify-center card" id=back-button><button class="btn btn-ghost card" id=backToTop><span class=sr-only>To Top Button</span><svg viewBox="0 0 24 24" xmlns=http://www.w3.org/2000/svg fill="fill-current w-10 h-10"><g id=SVGRepo_bgCarrier stroke-width=0></g><g id=SVGRepo_tracerCarrier stroke-linecap=round stroke-linejoin=round></g><g id=SVGRepo_iconCarrier><path d="M12 5V19M12 5L6 11M12 5L18 11" stroke-linecap=round stroke-linejoin=round stroke-width=2 stroke=currentColor></path></g></svg></button></frosti-backtotop></div></div><div class="w-full shadow-xl rounded-xl"><div class="w-full bg-base-100 p-4 rounded-xl max-h-[65vh] mb-b menu top-8" id=content-box><div class="h-4 skeleton w-28"></div><br><div class="h-4 skeleton w-full"></div><br><div class="h-4 skeleton w-full"></div><br><div class="h-4 skeleton w-full"></div><br></div></div></div></aside><main class="col-span-3 lg:col-span-3 md:col-span-4 md:order-2 order-1 p-2" id=swup><div class="fade-in-up gap-8 grid"><div class="overflow-hidden bg-base-100 rounded-xl shadow-xl join join-vertical"><div class=join-item></div><div class="fade-in-up bg-base-100 p-6 join-item lg:p-8 main-card relative"><div class="fade-in-up mt-2"><div class="flex justify-between flex-col group relative w-full"><div class="items-center flex justify-between mb-4 opacity-75 sm:text-sm text-xs"><div class="items-center flex gap-2 flex-wrap"><span class="items-center flex flex-wrap gap-1"><svg class="h-4 w-4" viewBox="0 0 24 24" height=1em width=1em data-icon=ri:calendar-line><use href=#ai:ri:calendar-line></use></svg> Wed Mar 26 2025</span></div><div class="items-center flex flex-wrap gap-1"><svg class="h-4 w-4" viewBox="0 0 24 24" height=1em width=1em data-icon=ri:book-open-line><use href=#ai:ri:book-open-line></use></svg> <span>3279 words · 19 minutes</span></div></div><a class="transition-transform duration-300 block hover:-translate-y-0.5" href=https://www.tankimzeg.top/blog/frosti-nginx-waline-build-website/ ><h1 class="bg-clip-text bg-gradient-to-r duration-300 font-bold from-primary hover:text-transparent pt-0 text-base-content to-secondary transition-colors" id=Frosti+Nginx+Waline建站全过程>Frosti+Nginx+Waline建站全过程</h1></a><div class=mt-4><div class="items-center flex gap-2 flex-wrap"><a class="btn btn-xs btn-category" href=/blog/categories/tech>tech </a><a class="btn btn-xs btn-tag" href=/blog/tags/network>network</a></div></div></div><hr class=mt-6></div><details class="w-full bg-base-100 rounded-xl shadow-xl duration-300 group md:hidden overflow-hidden static transition-transform" data-astro-cid-2nyno3gu id=toc-phone><summary class="items-center flex p-4 cursor-pointer hover:bg-base-200/50 justify-between transition-colors" data-astro-cid-2nyno3gu><div class="items-center flex gap-2 font-medium text-xl" data-astro-cid-2nyno3gu><svg class="h-5 w-5" height=1em width=1em data-icon=lucide:list data-astro-cid-2nyno3gu><symbol id=ai:lucide:list viewBox="0 0 24 24"><path d="M3 12h.01M3 18h.01M3 6h.01M8 12h13M8 18h13M8 6h13" stroke-linecap=round stroke-linejoin=round stroke-width=2 stroke=currentColor fill=none /></symbol><use href=#ai:lucide:list></use></svg> Table of Contents</div><svg class="shrink-0 duration-300 group-open:rotate-180 h-5 transform transition-transform w-5" height=1em width=1em data-icon=lucide:chevron-down data-astro-cid-2nyno3gu><symbol id=ai:lucide:chevron-down viewBox="0 0 24 24"><path d="m6 9l6 6l6-6" stroke-linecap=round stroke-linejoin=round stroke-width=2 stroke=currentColor fill=none /></symbol><use href=#ai:lucide:chevron-down></use></svg></summary><div class=overflow-hidden data-astro-cid-2nyno3gu><div class="w-full bg-base-100 p-4 max-h-[65vh] menu border-base-200 border-t overflow-y-auto" data-astro-cid-2nyno3gu><ul class="menu gap-1" data-astro-cid-2nyno3gu><li class=m-0 data-astro-cid-2nyno3gu><a class="items-center flex gap-2 duration-200 hover:bg-base-200/50 hover:text-primary rounded-lg transition-colors pl-0" href=#heading-1 data-astro-cid-2nyno3gu><svg class="shrink-0 h-4 w-4" height=1em width=1em data-icon=mdi:format-header-1 data-astro-cid-2nyno3gu><symbol id=ai:mdi:format-header-1 viewBox="0 0 24 24"><path d="M3 4h2v6h4V4h2v14H9v-6H5v6H3zm11 14v-2h2V6.31l-2.5 1.44V5.44L16 4h2v12h2v2z" fill=currentColor /></symbol><use href=#ai:mdi:format-header-1></use></svg> <span class=line-clamp-1 data-astro-cid-2nyno3gu>购买域名并托管到Cloudflare</span></a></li><li class=m-0 data-astro-cid-2nyno3gu><a class="items-center flex gap-2 duration-200 hover:bg-base-200/50 hover:text-primary rounded-lg transition-colors pl-6" href=#heading-2 data-astro-cid-2nyno3gu><svg class="shrink-0 h-4 w-4" height=1em width=1em data-icon=mdi:format-header-4 data-astro-cid-2nyno3gu><symbol id=ai:mdi:format-header-4 viewBox="0 0 24 24"><path d="M3 4h2v6h4V4h2v14H9v-6H5v6H3zm15 14v-5h-5v-2l5-7h2v7h1v2h-1v5zm0-7V7.42L15.45 11z" fill=currentColor /></symbol><use href=#ai:mdi:format-header-4></use></svg> <span class=line-clamp-1 data-astro-cid-2nyno3gu>A 记录（将域名指向服务器 IP）</span></a></li><li class=m-0 data-astro-cid-2nyno3gu><a class="items-center flex gap-2 duration-200 hover:bg-base-200/50 hover:text-primary rounded-lg transition-colors pl-0" href=#heading-3 data-astro-cid-2nyno3gu><svg class="shrink-0 h-4 w-4" viewBox="0 0 24 24" height=1em width=1em data-icon=mdi:format-header-1 data-astro-cid-2nyno3gu><use href=#ai:mdi:format-header-1></use></svg> <span class=line-clamp-1 data-astro-cid-2nyno3gu>在Frosti中启用Waline</span></a></li><li class=m-0 data-astro-cid-2nyno3gu><a class="items-center flex gap-2 duration-200 hover:bg-base-200/50 hover:text-primary rounded-lg transition-colors pl-2" href=#heading-4 data-astro-cid-2nyno3gu><svg class="shrink-0 h-4 w-4" height=1em width=1em data-icon=mdi:format-header-2 data-astro-cid-2nyno3gu><symbol id=ai:mdi:format-header-2 viewBox="0 0 24 24"><path d="M3 4h2v6h4V4h2v14H9v-6H5v6H3zm18 14h-6a2 2 0 0 1-2-2c0-.53.2-1 .54-1.36l4.87-5.23c.37-.36.59-.86.59-1.41a2 2 0 0 0-2-2a2 2 0 0 0-2 2h-2a4 4 0 0 1 4-4a4 4 0 0 1 4 4c0 1.1-.45 2.1-1.17 2.83L15 16h6z" fill=currentColor /></symbol><use href=#ai:mdi:format-header-2></use></svg> <span class=line-clamp-1 data-astro-cid-2nyno3gu>部署Waline</span></a></li><li class=m-0 data-astro-cid-2nyno3gu><a class="items-center flex gap-2 duration-200 hover:bg-base-200/50 hover:text-primary rounded-lg transition-colors pl-0" href=#heading-5 data-astro-cid-2nyno3gu><svg class="shrink-0 h-4 w-4" viewBox="0 0 24 24" height=1em width=1em data-icon=mdi:format-header-1 data-astro-cid-2nyno3gu><use href=#ai:mdi:format-header-1></use></svg> <span class=line-clamp-1 data-astro-cid-2nyno3gu>配置Nginx</span></a></li><li class=m-0 data-astro-cid-2nyno3gu><a class="items-center flex gap-2 duration-200 hover:bg-base-200/50 hover:text-primary rounded-lg transition-colors pl-2" href=#heading-6 data-astro-cid-2nyno3gu><svg class="shrink-0 h-4 w-4" viewBox="0 0 24 24" height=1em width=1em data-icon=mdi:format-header-2 data-astro-cid-2nyno3gu><use href=#ai:mdi:format-header-2></use></svg> <span class=line-clamp-1 data-astro-cid-2nyno3gu>Nginx反代Waline</span></a></li><li class=m-0 data-astro-cid-2nyno3gu><a class="items-center flex gap-2 duration-200 hover:bg-base-200/50 hover:text-primary rounded-lg transition-colors pl-4" href=#heading-7 data-astro-cid-2nyno3gu><svg class="shrink-0 h-4 w-4" height=1em width=1em data-icon=mdi:format-header-3 data-astro-cid-2nyno3gu><symbol id=ai:mdi:format-header-3 viewBox="0 0 24 24"><path d="M3 4h2v6h4V4h2v14H9v-6H5v6H3zm12 0h4a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-4a2 2 0 0 1-2-2v-1h2v1h4v-4h-4v-2h4V6h-4v1h-2V6a2 2 0 0 1 2-2" fill=currentColor /></symbol><use href=#ai:mdi:format-header-3></use></svg> <span class=line-clamp-1 data-astro-cid-2nyno3gu>禁止用户访问Waline的demo页面</span></a></li><li class=m-0 data-astro-cid-2nyno3gu><a class="items-center flex gap-2 duration-200 hover:bg-base-200/50 hover:text-primary rounded-lg transition-colors pl-0" href=#heading-8 data-astro-cid-2nyno3gu><svg class="shrink-0 h-4 w-4" viewBox="0 0 24 24" height=1em width=1em data-icon=mdi:format-header-1 data-astro-cid-2nyno3gu><use href=#ai:mdi:format-header-1></use></svg> <span class=line-clamp-1 data-astro-cid-2nyno3gu>注册HTTPS证书</span></a></li><li class=m-0 data-astro-cid-2nyno3gu><a class="items-center flex gap-2 duration-200 hover:bg-base-200/50 hover:text-primary rounded-lg transition-colors pl-2" href=#heading-9 data-astro-cid-2nyno3gu><svg class="shrink-0 h-4 w-4" viewBox="0 0 24 24" height=1em width=1em data-icon=mdi:format-header-2 data-astro-cid-2nyno3gu><use href=#ai:mdi:format-header-2></use></svg> <span class=line-clamp-1 data-astro-cid-2nyno3gu>DeepSeek - 探索未至之境</span></a></li><li class=m-0 data-astro-cid-2nyno3gu><a class="items-center flex gap-2 duration-200 hover:bg-base-200/50 hover:text-primary rounded-lg transition-colors pl-4" href=#heading-10 data-astro-cid-2nyno3gu><svg class="shrink-0 h-4 w-4" viewBox="0 0 24 24" height=1em width=1em data-icon=mdi:format-header-3 data-astro-cid-2nyno3gu><use href=#ai:mdi:format-header-3></use></svg> <span class=line-clamp-1 data-astro-cid-2nyno3gu>1. 在 Cloudflare 中启用 HTTPS</span></a></li><li class=m-0 data-astro-cid-2nyno3gu><a class="items-center flex gap-2 duration-200 hover:bg-base-200/50 hover:text-primary rounded-lg transition-colors pl-6" href=#heading-11 data-astro-cid-2nyno3gu><svg class="shrink-0 h-4 w-4" viewBox="0 0 24 24" height=1em width=1em data-icon=mdi:format-header-4 data-astro-cid-2nyno3gu><use href=#ai:mdi:format-header-4></use></svg> <span class=line-clamp-1 data-astro-cid-2nyno3gu>步骤 1：登录 Cloudflare 控制面板</span></a></li><li class=m-0 data-astro-cid-2nyno3gu><a class="items-center flex gap-2 duration-200 hover:bg-base-200/50 hover:text-primary rounded-lg transition-colors pl-6" href=#heading-12 data-astro-cid-2nyno3gu><svg class="shrink-0 h-4 w-4" viewBox="0 0 24 24" height=1em width=1em data-icon=mdi:format-header-4 data-astro-cid-2nyno3gu><use href=#ai:mdi:format-header-4></use></svg> <span class=line-clamp-1 data-astro-cid-2nyno3gu>步骤 2：配置 SSL/TLS 模式</span></a></li><li class=m-0 data-astro-cid-2nyno3gu><a class="items-center flex gap-2 duration-200 hover:bg-base-200/50 hover:text-primary rounded-lg transition-colors pl-4" href=#heading-13 data-astro-cid-2nyno3gu><svg class="shrink-0 h-4 w-4" viewBox="0 0 24 24" height=1em width=1em data-icon=mdi:format-header-3 data-astro-cid-2nyno3gu><use href=#ai:mdi:format-header-3></use></svg> <span class=line-clamp-1 data-astro-cid-2nyno3gu>2. 为服务器获取 SSL 证书</span></a></li><li class=m-0 data-astro-cid-2nyno3gu><a class="items-center flex gap-2 duration-200 hover:bg-base-200/50 hover:text-primary rounded-lg transition-colors pl-6" href=#heading-14 data-astro-cid-2nyno3gu><svg class="shrink-0 h-4 w-4" viewBox="0 0 24 24" height=1em width=1em data-icon=mdi:format-header-4 data-astro-cid-2nyno3gu><use href=#ai:mdi:format-header-4></use></svg> <span class=line-clamp-1 data-astro-cid-2nyno3gu>使用 Let’s Encrypt 免费证书（推荐）</span></a></li><li class=m-0 data-astro-cid-2nyno3gu><a class="items-center flex gap-2 duration-200 hover:bg-base-200/50 hover:text-primary rounded-lg transition-colors pl-6" href=#heading-15 data-astro-cid-2nyno3gu><svg class="shrink-0 h-4 w-4" viewBox="0 0 24 24" height=1em width=1em data-icon=mdi:format-header-4 data-astro-cid-2nyno3gu><use href=#ai:mdi:format-header-4></use></svg> <span class=line-clamp-1 data-astro-cid-2nyno3gu>步骤 1：安装 Certbot</span></a></li><li class=m-0 data-astro-cid-2nyno3gu><a class="items-center flex gap-2 duration-200 hover:bg-base-200/50 hover:text-primary rounded-lg transition-colors pl-6" href=#heading-16 data-astro-cid-2nyno3gu><svg class="shrink-0 h-4 w-4" viewBox="0 0 24 24" height=1em width=1em data-icon=mdi:format-header-4 data-astro-cid-2nyno3gu><use href=#ai:mdi:format-header-4></use></svg> <span class=line-clamp-1 data-astro-cid-2nyno3gu>步骤 2：获取证书</span></a></li><li class=m-0 data-astro-cid-2nyno3gu><a class="items-center flex gap-2 duration-200 hover:bg-base-200/50 hover:text-primary rounded-lg transition-colors pl-6" href=#heading-17 data-astro-cid-2nyno3gu><svg class="shrink-0 h-4 w-4" viewBox="0 0 24 24" height=1em width=1em data-icon=mdi:format-header-4 data-astro-cid-2nyno3gu><use href=#ai:mdi:format-header-4></use></svg> <span class=line-clamp-1 data-astro-cid-2nyno3gu>步骤 3：验证证书自动续期</span></a></li><li class=m-0 data-astro-cid-2nyno3gu><a class="items-center flex gap-2 duration-200 hover:bg-base-200/50 hover:text-primary rounded-lg transition-colors pl-4" href=#heading-18 data-astro-cid-2nyno3gu><svg class="shrink-0 h-4 w-4" viewBox="0 0 24 24" height=1em width=1em data-icon=mdi:format-header-3 data-astro-cid-2nyno3gu><use href=#ai:mdi:format-header-3></use></svg> <span class=line-clamp-1 data-astro-cid-2nyno3gu>3. 配置 Nginx 支持 HTTPS</span></a></li><li class=m-0 data-astro-cid-2nyno3gu><a class="items-center flex gap-2 duration-200 hover:bg-base-200/50 hover:text-primary rounded-lg transition-colors pl-6" href=#heading-19 data-astro-cid-2nyno3gu><svg class="shrink-0 h-4 w-4" viewBox="0 0 24 24" height=1em width=1em data-icon=mdi:format-header-4 data-astro-cid-2nyno3gu><use href=#ai:mdi:format-header-4></use></svg> <span class=line-clamp-1 data-astro-cid-2nyno3gu>步骤 1：检查 Nginx 配置文件</span></a></li><li class=m-0 data-astro-cid-2nyno3gu><a class="items-center flex gap-2 duration-200 hover:bg-base-200/50 hover:text-primary rounded-lg transition-colors pl-6" href=#heading-20 data-astro-cid-2nyno3gu><svg class="shrink-0 h-4 w-4" viewBox="0 0 24 24" height=1em width=1em data-icon=mdi:format-header-4 data-astro-cid-2nyno3gu><use href=#ai:mdi:format-header-4></use></svg> <span class=line-clamp-1 data-astro-cid-2nyno3gu>步骤 2：确保 HTTPS 配置正确</span></a></li><li class=m-0 data-astro-cid-2nyno3gu><a class="items-center flex gap-2 duration-200 hover:bg-base-200/50 hover:text-primary rounded-lg transition-colors pl-6" href=#heading-21 data-astro-cid-2nyno3gu><svg class="shrink-0 h-4 w-4" viewBox="0 0 24 24" height=1em width=1em data-icon=mdi:format-header-4 data-astro-cid-2nyno3gu><use href=#ai:mdi:format-header-4></use></svg> <span class=line-clamp-1 data-astro-cid-2nyno3gu>步骤 3：测试并重启 Nginx</span></a></li><li class=m-0 data-astro-cid-2nyno3gu><a class="items-center flex gap-2 duration-200 hover:bg-base-200/50 hover:text-primary rounded-lg transition-colors pl-4" href=#heading-22 data-astro-cid-2nyno3gu><svg class="shrink-0 h-4 w-4" viewBox="0 0 24 24" height=1em width=1em data-icon=mdi:format-header-3 data-astro-cid-2nyno3gu><use href=#ai:mdi:format-header-3></use></svg> <span class=line-clamp-1 data-astro-cid-2nyno3gu>4. 配置 Cloudflare 的 SSL 证书源</span></a></li><li class=m-0 data-astro-cid-2nyno3gu><a class="items-center flex gap-2 duration-200 hover:bg-base-200/50 hover:text-primary rounded-lg transition-colors pl-6" href=#heading-23 data-astro-cid-2nyno3gu><svg class="shrink-0 h-4 w-4" viewBox="0 0 24 24" height=1em width=1em data-icon=mdi:format-header-4 data-astro-cid-2nyno3gu><use href=#ai:mdi:format-header-4></use></svg> <span class=line-clamp-1 data-astro-cid-2nyno3gu>步骤 1：在 Cloudflare 上传原始证书（可选）</span></a></li><li class=m-0 data-astro-cid-2nyno3gu><a class="items-center flex gap-2 duration-200 hover:bg-base-200/50 hover:text-primary rounded-lg transition-colors pl-4" href=#heading-24 data-astro-cid-2nyno3gu><svg class="shrink-0 h-4 w-4" viewBox="0 0 24 24" height=1em width=1em data-icon=mdi:format-header-3 data-astro-cid-2nyno3gu><use href=#ai:mdi:format-header-3></use></svg> <span class=line-clamp-1 data-astro-cid-2nyno3gu>5. 验证 HTTPS 是否生效</span></a></li><li class=m-0 data-astro-cid-2nyno3gu><a class="items-center flex gap-2 duration-200 hover:bg-base-200/50 hover:text-primary rounded-lg transition-colors pl-4" href=#heading-25 data-astro-cid-2nyno3gu><svg class="shrink-0 h-4 w-4" viewBox="0 0 24 24" height=1em width=1em data-icon=mdi:format-header-3 data-astro-cid-2nyno3gu><use href=#ai:mdi:format-header-3></use></svg> <span class=line-clamp-1 data-astro-cid-2nyno3gu>6. 常见问题解决</span></a></li><li class=m-0 data-astro-cid-2nyno3gu><a class="items-center flex gap-2 duration-200 hover:bg-base-200/50 hover:text-primary rounded-lg transition-colors pl-6" href=#heading-26 data-astro-cid-2nyno3gu><svg class="shrink-0 h-4 w-4" viewBox="0 0 24 24" height=1em width=1em data-icon=mdi:format-header-4 data-astro-cid-2nyno3gu><use href=#ai:mdi:format-header-4></use></svg> <span class=line-clamp-1 data-astro-cid-2nyno3gu>问题 1：浏览器提示“不安全”</span></a></li><li class=m-0 data-astro-cid-2nyno3gu><a class="items-center flex gap-2 duration-200 hover:bg-base-200/50 hover:text-primary rounded-lg transition-colors pl-6" href=#heading-27 data-astro-cid-2nyno3gu><svg class="shrink-0 h-4 w-4" viewBox="0 0 24 24" height=1em width=1em data-icon=mdi:format-header-4 data-astro-cid-2nyno3gu><use href=#ai:mdi:format-header-4></use></svg> <span class=line-clamp-1 data-astro-cid-2nyno3gu>问题 2：Nginx 启动失败</span></a></li><li class=m-0 data-astro-cid-2nyno3gu><a class="items-center flex gap-2 duration-200 hover:bg-base-200/50 hover:text-primary rounded-lg transition-colors pl-6" href=#heading-28 data-astro-cid-2nyno3gu><svg class="shrink-0 h-4 w-4" viewBox="0 0 24 24" height=1em width=1em data-icon=mdi:format-header-4 data-astro-cid-2nyno3gu><use href=#ai:mdi:format-header-4></use></svg> <span class=line-clamp-1 data-astro-cid-2nyno3gu>问题 3：证书续期失败</span></a></li><li class=m-0 data-astro-cid-2nyno3gu><a class="items-center flex gap-2 duration-200 hover:bg-base-200/50 hover:text-primary rounded-lg transition-colors pl-4" href=#heading-29 data-astro-cid-2nyno3gu><svg class="shrink-0 h-4 w-4" viewBox="0 0 24 24" height=1em width=1em data-icon=mdi:format-header-3 data-astro-cid-2nyno3gu><use href=#ai:mdi:format-header-3></use></svg> <span class=line-clamp-1 data-astro-cid-2nyno3gu>总结</span></a></li><li class=m-0 data-astro-cid-2nyno3gu><a class="items-center flex gap-2 duration-200 hover:bg-base-200/50 hover:text-primary rounded-lg transition-colors pl-0" href=#heading-30 data-astro-cid-2nyno3gu><svg class="shrink-0 h-4 w-4" viewBox="0 0 24 24" height=1em width=1em data-icon=mdi:format-header-1 data-astro-cid-2nyno3gu><use href=#ai:mdi:format-header-1></use></svg> <span class=line-clamp-1 data-astro-cid-2nyno3gu>总结</span></a></li></ul></div></div></details><p class=fade-in-up>用了几天时间,我的网站终于建设好了!</p><p class=fade-in-up>我使用Astro的Frosti模板,Nginx反代实现docker独立部署Waline.为了实现反代购买了一个域名,将原来用IP地址访问绑定到域名,并使用HTTPS协议提升安全性.</p><p class=fade-in-up>数据库使用远程Azure flexible MySQL.</p><h1 class=fade-in-up id=heading-1>购买域名并托管到Cloudflare<a class=anchor href=#heading-1 aria-label="Anchor to 购买域名并托管到Cloudflare"> <span class=anchor-icon aria-hidden=true data-pagefind-ignore=""></span> <span class=sr-only>Link to 购买域名并托管到Cloudflare</span></a></h1><p class=fade-in-up>在<a class=fade-in-up href=https://www.spaceship.com rel=nofollow>Spaceship<span><svg viewBox="0 0 24 24" xmlns=http://www.w3.org/2000/svg fill=none height=1em width=1em><g id=SVGRepo_bgCarrier stroke-width=0></g><g id=SVGRepo_tracerCarrier stroke-linecap=round stroke-linejoin=round></g><g id=SVGRepo_iconCarrier><g id=SVGRepo_iconCarrier><path d="M10.0002 5H8.2002C7.08009 5 6.51962 5 6.0918 5.21799C5.71547 5.40973 5.40973 5.71547 5.21799 6.0918C5 6.51962 5 7.08009 5 8.2002V15.8002C5 16.9203 5 17.4801 5.21799 17.9079C5.40973 18.2842 5.71547 18.5905 6.0918 18.7822C6.5192 19 7.07899 19 8.19691 19H15.8031C16.921 19 17.48 19 17.9074 18.7822C18.2837 18.5905 18.5905 18.2839 18.7822 17.9076C19 17.4802 19 16.921 19 15.8031V14M20 9V4M20 4H15M20 4L13 11" stroke-linecap=round stroke-linejoin=round stroke-width=2 stroke=#888></path></g></g></svg></span></a>上购买一个域名,支持支付宝付款,具体bilibili上有视频展示过程.</p><p class=fade-in-up>将域名托管到<a class=fade-in-up href=https://dash.cloudflare.com rel=nofollow>Cloudflare<span><svg viewBox="0 0 24 24" xmlns=http://www.w3.org/2000/svg fill=none height=1em width=1em><g id=SVGRepo_bgCarrier stroke-width=0></g><g id=SVGRepo_tracerCarrier stroke-linecap=round stroke-linejoin=round></g><g id=SVGRepo_iconCarrier><g id=SVGRepo_iconCarrier><path d="M10.0002 5H8.2002C7.08009 5 6.51962 5 6.0918 5.21799C5.71547 5.40973 5.40973 5.71547 5.21799 6.0918C5 6.51962 5 7.08009 5 8.2002V15.8002C5 16.9203 5 17.4801 5.21799 17.9079C5.40973 18.2842 5.71547 18.5905 6.0918 18.7822C6.5192 19 7.07899 19 8.19691 19H15.8031C16.921 19 17.48 19 17.9074 18.7822C18.2837 18.5905 18.5905 18.2839 18.7822 17.9076C19 17.4802 19 16.921 19 15.8031V14M20 9V4M20 4H15M20 4L13 11" stroke-linecap=round stroke-linejoin=round stroke-width=2 stroke=#888></path></g></g></svg></span></a>上: (具体看别的教程吧,这里我凭印象说一下) 先登录自己的邮箱账号,然后点Overview,输入自己的域名(注意这时候是不含www这类二级域名的)然后(我记得有一步选择套餐,不记得先后顺序了,那里选择$0免费的.)Cloudflare会对域名进行DNS解析,这时候,由于域名之前由Spaceship持有,所以这里会出现几条记录,IPv4和IPv6可能都有,先删掉,之后要解析成自己的IP地址嘛.最后出现两个CF的DNS服务器,复制后,在Spaceship中找到自己的购买的域名<a class=fade-in-up href=https://www.spaceship.com/application/domain-list-application/ rel=nofollow>Domain Manager App - Spaceship<span><svg viewBox="0 0 24 24" xmlns=http://www.w3.org/2000/svg fill=none height=1em width=1em><g id=SVGRepo_bgCarrier stroke-width=0></g><g id=SVGRepo_tracerCarrier stroke-linecap=round stroke-linejoin=round></g><g id=SVGRepo_iconCarrier><g id=SVGRepo_iconCarrier><path d="M10.0002 5H8.2002C7.08009 5 6.51962 5 6.0918 5.21799C5.71547 5.40973 5.40973 5.71547 5.21799 6.0918C5 6.51962 5 7.08009 5 8.2002V15.8002C5 16.9203 5 17.4801 5.21799 17.9079C5.40973 18.2842 5.71547 18.5905 6.0918 18.7822C6.5192 19 7.07899 19 8.19691 19H15.8031C16.921 19 17.48 19 17.9074 18.7822C18.2837 18.5905 18.5905 18.2839 18.7822 17.9076C19 17.4802 19 16.921 19 15.8031V14M20 9V4M20 4H15M20 4L13 11" stroke-linecap=round stroke-linejoin=round stroke-width=2 stroke=#888></path></g></g></svg></span></a>, <img alt="Spaceship Dashboard" decoding=async height=1653 loading=lazy src=/_astro/Build-Website-Spaceship.BhyAeFy4_zI33u.webp width=3044> 填写到Nameservers里面去,设置为Custom nameservers <img alt="Custom nameservers" decoding=async height=1307 loading=lazy src=/_astro/Build-Website-Custom-NS.DPynCe9c_Zur0nn.webp width=946></p><p class=fade-in-up>回到Cloudflare,在左侧导航栏中点击DNS -> Records,当你的域名显示绿色的Activate之后,可以管理DNS Records.把无关的DNS记录删掉,然后添加A记录.</p><h4 class=fade-in-up id=heading-2><strong class=fade-in-up>A 记录（将域名指向服务器 IP）</strong><a class=anchor href=#heading-2 aria-label="Anchor to "> <span class=anchor-icon aria-hidden=true data-pagefind-ignore=""></span> <span class=sr-only>Link to</span></a></h4><ul class=fade-in-up><li class=fade-in-up><p class=fade-in-up><strong class=fade-in-up>名称</strong>：<code class=fade-in-up>@</code>（表示主域名，如 <code class=fade-in-up>example.com</code>）或 <code class=fade-in-up>www</code>（表示 <code class=fade-in-up>www.example.com</code>）。</p></li><li class=fade-in-up><p class=fade-in-up><strong class=fade-in-up>IPv4 地址</strong>：您的服务器 IP 地址（如 <code class=fade-in-up>123.45.67.89</code>）。</p></li><li class=fade-in-up><p class=fade-in-up><strong class=fade-in-up>Proxy status</strong>：选择 <strong class=fade-in-up>Proxied</strong>（橙色云图标），以通过 Cloudflare 的 CDN 和安全服务。</p></li></ul><blockquote class=fade-in-up><p class=fade-in-up>我注意到还有其他类型的记录,如AAAA对应的是IPv6地址,NS是自己服务器上的DNS服务,这些我暂时都用不上.其实子域名如blog.example.com应该是可以用CNAME的,不过我没用.</p></blockquote><p class=fade-in-up>保存后,过几分钟,在以下网站搜索自己的域名就能看到A记录的变化.由于世界各地的DNS服务器都有各自的缓存,可能还留有旧纪录.由于我们选择了CF的Proxy服务,所以看不到自己服务器的真实IP,不用担心是自己设置错了.</p><p class=fade-in-up><a class=fade-in-up href=https://www.itdog.cn/dns/ rel=nofollow>查看国内DNS解析情况<span><svg viewBox="0 0 24 24" xmlns=http://www.w3.org/2000/svg fill=none height=1em width=1em><g id=SVGRepo_bgCarrier stroke-width=0></g><g id=SVGRepo_tracerCarrier stroke-linecap=round stroke-linejoin=round></g><g id=SVGRepo_iconCarrier><g id=SVGRepo_iconCarrier><path d="M10.0002 5H8.2002C7.08009 5 6.51962 5 6.0918 5.21799C5.71547 5.40973 5.40973 5.71547 5.21799 6.0918C5 6.51962 5 7.08009 5 8.2002V15.8002C5 16.9203 5 17.4801 5.21799 17.9079C5.40973 18.2842 5.71547 18.5905 6.0918 18.7822C6.5192 19 7.07899 19 8.19691 19H15.8031C16.921 19 17.48 19 17.9074 18.7822C18.2837 18.5905 18.5905 18.2839 18.7822 17.9076C19 17.4802 19 16.921 19 15.8031V14M20 9V4M20 4H15M20 4L13 11" stroke-linecap=round stroke-linejoin=round stroke-width=2 stroke=#888></path></g></g></svg></span></a></p><p class=fade-in-up><a class=fade-in-up href=https://dnschecker.org/ rel=nofollow>查看全球DNS解析情况<span><svg viewBox="0 0 24 24" xmlns=http://www.w3.org/2000/svg fill=none height=1em width=1em><g id=SVGRepo_bgCarrier stroke-width=0></g><g id=SVGRepo_tracerCarrier stroke-linecap=round stroke-linejoin=round></g><g id=SVGRepo_iconCarrier><g id=SVGRepo_iconCarrier><path d="M10.0002 5H8.2002C7.08009 5 6.51962 5 6.0918 5.21799C5.71547 5.40973 5.40973 5.71547 5.21799 6.0918C5 6.51962 5 7.08009 5 8.2002V15.8002C5 16.9203 5 17.4801 5.21799 17.9079C5.40973 18.2842 5.71547 18.5905 6.0918 18.7822C6.5192 19 7.07899 19 8.19691 19H15.8031C16.921 19 17.48 19 17.9074 18.7822C18.2837 18.5905 18.5905 18.2839 18.7822 17.9076C19 17.4802 19 16.921 19 15.8031V14M20 9V4M20 4H15M20 4L13 11" stroke-linecap=round stroke-linejoin=round stroke-width=2 stroke=#888></path></g></g></svg></span></a></p><p class=fade-in-up>可以在终端输入nslookup(for Windows)或nslookup/dig(for Linux)查看自己所在网络的域名解析结果:</p><figure class="fade-in-up highlight bash"><div class="fade-in-up highlight-tools"><div class="fade-in-up code-lang">BASH</div><div class="fade-in-up code-container"><label class="btn btn-ghost btn-sm copy-btn swap swap-flip" for=2f68afda-1c59-48e9-b76d-8014c494532c aria-label="Copy to clipboard"><span class="fade-in-up sr-only">Copy to clipboard</span><input id=2f68afda-1c59-48e9-b76d-8014c494532c type=checkbox class="fade-in-up copy-checkbox"><div class=swap-on><svg class="fade-in-up h-6 shrink-0 stroke-current w-6" viewBox="0 -0.5 25 25" xmlns=http://www.w3.org/2000/svg fill=none><path d="M5.5 12.5L10.167 17L19.5 8" stroke-linecap=round stroke-linejoin=round stroke-width=1.5 class=fade-in-up></path></svg></div><div class=swap-off><svg class="fade-in-up h-6 shrink-0 stroke-current w-6" viewBox="0 -0.5 25 25" xmlns=http://www.w3.org/2000/svg fill=none><path d="M17.676 14.248C17.676 15.8651 16.3651 17.176 14.748 17.176H7.428C5.81091 17.176 4.5 15.8651 4.5 14.248V6.928C4.5 5.31091 5.81091 4 7.428 4H14.748C16.3651 4 17.676 5.31091 17.676 6.928V14.248Z" stroke-linecap=round stroke-linejoin=round stroke-width=1.5 class=fade-in-up clip-rule=evenodd fill-rule=evenodd></path><path d="M10.252 20H17.572C19.1891 20 20.5 18.689 20.5 17.072V9.75195" stroke-linecap=round stroke-linejoin=round stroke-width=1.5 class=fade-in-up></path></svg></div></label></div></div><div class="fade-in-up highlight-code"><pre class="fade-in-up frosti-code gutter"><code class=fade-in-up><div class="fade-in-up line">1</div></code></pre><pre class="fade-in-up frosti-code code"><code class=fade-in-up><span class="fade-in-up line"><span class=fade-in-up style=color:#6f42c1;--shiki-dark:#B392F0>nslookup</span><span class=fade-in-up style=color:#032f62;--shiki-dark:#9ECBFF> example.com</span></span>
<span class="fade-in-up line"></span></code></pre></div></figure><figure class="fade-in-up highlight bash"><div class="fade-in-up highlight-tools"><div class="fade-in-up code-lang">BASH</div><div class="fade-in-up code-container"><label class="btn btn-ghost btn-sm copy-btn swap swap-flip" for=9e3c12f9-bc95-46ba-ba61-b153df00d0fa aria-label="Copy to clipboard"><span class="fade-in-up sr-only">Copy to clipboard</span><input id=9e3c12f9-bc95-46ba-ba61-b153df00d0fa type=checkbox class="fade-in-up copy-checkbox"><div class=swap-on><svg class="fade-in-up h-6 shrink-0 stroke-current w-6" viewBox="0 -0.5 25 25" xmlns=http://www.w3.org/2000/svg fill=none><path d="M5.5 12.5L10.167 17L19.5 8" stroke-linecap=round stroke-linejoin=round stroke-width=1.5 class=fade-in-up></path></svg></div><div class=swap-off><svg class="fade-in-up h-6 shrink-0 stroke-current w-6" viewBox="0 -0.5 25 25" xmlns=http://www.w3.org/2000/svg fill=none><path d="M17.676 14.248C17.676 15.8651 16.3651 17.176 14.748 17.176H7.428C5.81091 17.176 4.5 15.8651 4.5 14.248V6.928C4.5 5.31091 5.81091 4 7.428 4H14.748C16.3651 4 17.676 5.31091 17.676 6.928V14.248Z" stroke-linecap=round stroke-linejoin=round stroke-width=1.5 class=fade-in-up clip-rule=evenodd fill-rule=evenodd></path><path d="M10.252 20H17.572C19.1891 20 20.5 18.689 20.5 17.072V9.75195" stroke-linecap=round stroke-linejoin=round stroke-width=1.5 class=fade-in-up></path></svg></div></label></div></div><div class="fade-in-up highlight-code"><pre class="fade-in-up frosti-code gutter"><code class=fade-in-up><div class="fade-in-up line">1</div></code></pre><pre class="fade-in-up frosti-code code"><code class=fade-in-up><span class="fade-in-up line"><span class=fade-in-up style=color:#6f42c1;--shiki-dark:#B392F0>dig</span><span class=fade-in-up style=color:#032f62;--shiki-dark:#9ECBFF> example.com</span></span>
<span class="fade-in-up line"></span></code></pre></div></figure><h1 class=fade-in-up id=heading-3>在Frosti中启用Waline<a class=anchor href=#heading-3 aria-label="Anchor to 在Frosti中启用Waline"> <span class=anchor-icon aria-hidden=true data-pagefind-ignore=""></span> <span class=sr-only>Link to 在Frosti中启用Waline</span></a></h1><p class=fade-in-up>原作者默认关闭了这个功能,我们可以手动启用. 浏览项目结构,打开src/pages/blog/[…slug].astro文件,找到如下代码:</p><figure class="fade-in-up highlight html"><div class="fade-in-up highlight-tools"><div class="fade-in-up code-lang">HTML</div><div class="fade-in-up code-container"><label class="btn btn-ghost btn-sm copy-btn swap swap-flip" for=2627de02-95db-433c-bfaa-11b2e4ada99e aria-label="Copy to clipboard"><span class="fade-in-up sr-only">Copy to clipboard</span><input id=2627de02-95db-433c-bfaa-11b2e4ada99e type=checkbox class="fade-in-up copy-checkbox"><div class=swap-on><svg class="fade-in-up h-6 shrink-0 stroke-current w-6" viewBox="0 -0.5 25 25" xmlns=http://www.w3.org/2000/svg fill=none><path d="M5.5 12.5L10.167 17L19.5 8" stroke-linecap=round stroke-linejoin=round stroke-width=1.5 class=fade-in-up></path></svg></div><div class=swap-off><svg class="fade-in-up h-6 shrink-0 stroke-current w-6" viewBox="0 -0.5 25 25" xmlns=http://www.w3.org/2000/svg fill=none><path d="M17.676 14.248C17.676 15.8651 16.3651 17.176 14.748 17.176H7.428C5.81091 17.176 4.5 15.8651 4.5 14.248V6.928C4.5 5.31091 5.81091 4 7.428 4H14.748C16.3651 4 17.676 5.31091 17.676 6.928V14.248Z" stroke-linecap=round stroke-linejoin=round stroke-width=1.5 class=fade-in-up clip-rule=evenodd fill-rule=evenodd></path><path d="M10.252 20H17.572C19.1891 20 20.5 18.689 20.5 17.072V9.75195" stroke-linecap=round stroke-linejoin=round stroke-width=1.5 class=fade-in-up></path></svg></div></label></div></div><div class="fade-in-up highlight-code"><pre class="fade-in-up frosti-code gutter"><code class=fade-in-up><div class="fade-in-up line">1</div><div class="fade-in-up line">2</div><div class="fade-in-up line">3</div><div class="fade-in-up line">4</div><div class="fade-in-up line">5</div><div class="fade-in-up line">6</div><div class="fade-in-up line">7</div><div class="fade-in-up line">8</div><div class="fade-in-up line">9</div><div class="fade-in-up line">10</div><div class="fade-in-up line">11</div></code></pre><pre class="fade-in-up frosti-code code"><code class=fade-in-up><span class="fade-in-up line"><span class=fade-in-up style=color:#24292e;--shiki-dark:#E1E4E8>  &#x3C;</span><span class=fade-in-up style=color:#b31d28;font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic>BaseCard</span></span>
<span class="fade-in-up line"><span class=fade-in-up style=color:#6f42c1;--shiki-dark:#B392F0>    title</span><span class=fade-in-up style=color:#24292e;--shiki-dark:#E1E4E8>=</span><span class=fade-in-up style=color:#032f62;--shiki-dark:#9ECBFF>{post.data.title}</span></span>
<span class="fade-in-up line"><span class=fade-in-up style=color:#6f42c1;--shiki-dark:#B392F0>    image</span><span class=fade-in-up style=color:#24292e;--shiki-dark:#E1E4E8>=</span><span class=fade-in-up style=color:#032f62;--shiki-dark:#9ECBFF>{post.data.image}</span></span>
<span class="fade-in-up line"><span class=fade-in-up style=color:#6f42c1;--shiki-dark:#B392F0>    pubDate</span><span class=fade-in-up style=color:#24292e;--shiki-dark:#E1E4E8>=</span><span class=fade-in-up style=color:#032f62;--shiki-dark:#9ECBFF>{post.data.pubDate}</span></span>
<span class="fade-in-up line"><span class=fade-in-up style=color:#6f42c1;--shiki-dark:#B392F0>    badge</span><span class=fade-in-up style=color:#24292e;--shiki-dark:#E1E4E8>=</span><span class=fade-in-up style=color:#032f62;--shiki-dark:#9ECBFF>{post.data.badge}</span></span>
<span class="fade-in-up line"><span class=fade-in-up style=color:#6f42c1;--shiki-dark:#B392F0>    categories</span><span class=fade-in-up style=color:#24292e;--shiki-dark:#E1E4E8>=</span><span class=fade-in-up style=color:#032f62;--shiki-dark:#9ECBFF>{post.data.categories}</span></span>
<span class="fade-in-up line"><span class=fade-in-up style=color:#6f42c1;--shiki-dark:#B392F0>    tags</span><span class=fade-in-up style=color:#24292e;--shiki-dark:#E1E4E8>=</span><span class=fade-in-up style=color:#032f62;--shiki-dark:#9ECBFF>{post.data.tags}</span></span>
<span class="fade-in-up line"><span class=fade-in-up style=color:#6f42c1;--shiki-dark:#B392F0>    word</span><span class=fade-in-up style=color:#24292e;--shiki-dark:#E1E4E8>=</span><span class=fade-in-up style=color:#032f62;--shiki-dark:#9ECBFF>{remarkPluginFrontmatter.totalCharCount}</span></span>
<span class="fade-in-up line"><span class=fade-in-up style=color:#6f42c1;--shiki-dark:#B392F0>    time</span><span class=fade-in-up style=color:#24292e;--shiki-dark:#E1E4E8>=</span><span class=fade-in-up style=color:#032f62;--shiki-dark:#9ECBFF>{remarkPluginFrontmatter.readingTime}</span></span>
<span class="fade-in-up line"><span class=fade-in-up style=color:#6f42c1;--shiki-dark:#B392F0>    isBlog</span><span class=fade-in-up style=color:#24292e;--shiki-dark:#E1E4E8>=</span><span class=fade-in-up style=color:#032f62;--shiki-dark:#9ECBFF>"true"</span></span>
<span class="fade-in-up line"><span class=fade-in-up style=color:#24292e;--shiki-dark:#E1E4E8>  ></span></span>
<span class="fade-in-up line"></span></code></pre></div></figure><p class=fade-in-up>添加一行<code class=fade-in-up>comment="true"</code> :</p><figure class="fade-in-up highlight html"><div class="fade-in-up highlight-tools"><div class="fade-in-up code-lang">HTML</div><div class="fade-in-up code-container"><label class="btn btn-ghost btn-sm copy-btn swap swap-flip" for=3a585ac4-ae8c-441d-879b-1a72489af62a aria-label="Copy to clipboard"><span class="fade-in-up sr-only">Copy to clipboard</span><input id=3a585ac4-ae8c-441d-879b-1a72489af62a type=checkbox class="fade-in-up copy-checkbox"><div class=swap-on><svg class="fade-in-up h-6 shrink-0 stroke-current w-6" viewBox="0 -0.5 25 25" xmlns=http://www.w3.org/2000/svg fill=none><path d="M5.5 12.5L10.167 17L19.5 8" stroke-linecap=round stroke-linejoin=round stroke-width=1.5 class=fade-in-up></path></svg></div><div class=swap-off><svg class="fade-in-up h-6 shrink-0 stroke-current w-6" viewBox="0 -0.5 25 25" xmlns=http://www.w3.org/2000/svg fill=none><path d="M17.676 14.248C17.676 15.8651 16.3651 17.176 14.748 17.176H7.428C5.81091 17.176 4.5 15.8651 4.5 14.248V6.928C4.5 5.31091 5.81091 4 7.428 4H14.748C16.3651 4 17.676 5.31091 17.676 6.928V14.248Z" stroke-linecap=round stroke-linejoin=round stroke-width=1.5 class=fade-in-up clip-rule=evenodd fill-rule=evenodd></path><path d="M10.252 20H17.572C19.1891 20 20.5 18.689 20.5 17.072V9.75195" stroke-linecap=round stroke-linejoin=round stroke-width=1.5 class=fade-in-up></path></svg></div></label></div></div><div class="fade-in-up highlight-code"><pre class="fade-in-up frosti-code gutter"><code class=fade-in-up><div class="fade-in-up line">1</div><div class="fade-in-up line">2</div><div class="fade-in-up line">3</div><div class="fade-in-up line">4</div><div class="fade-in-up line">5</div><div class="fade-in-up line">6</div><div class="fade-in-up line">7</div><div class="fade-in-up line">8</div><div class="fade-in-up line">9</div><div class="fade-in-up line">10</div><div class="fade-in-up line">11</div><div class="fade-in-up line">12</div></code></pre><pre class="fade-in-up frosti-code code"><code class=fade-in-up><span class="fade-in-up line"><span class=fade-in-up style=color:#24292e;--shiki-dark:#E1E4E8>  &#x3C;</span><span class=fade-in-up style=color:#b31d28;font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic>BaseCard</span></span>
<span class="fade-in-up line"><span class=fade-in-up style=color:#6f42c1;--shiki-dark:#B392F0>    title</span><span class=fade-in-up style=color:#24292e;--shiki-dark:#E1E4E8>=</span><span class=fade-in-up style=color:#032f62;--shiki-dark:#9ECBFF>{post.data.title}</span></span>
<span class="fade-in-up line"><span class=fade-in-up style=color:#6f42c1;--shiki-dark:#B392F0>    image</span><span class=fade-in-up style=color:#24292e;--shiki-dark:#E1E4E8>=</span><span class=fade-in-up style=color:#032f62;--shiki-dark:#9ECBFF>{post.data.image}</span></span>
<span class="fade-in-up line"><span class=fade-in-up style=color:#6f42c1;--shiki-dark:#B392F0>    pubDate</span><span class=fade-in-up style=color:#24292e;--shiki-dark:#E1E4E8>=</span><span class=fade-in-up style=color:#032f62;--shiki-dark:#9ECBFF>{post.data.pubDate}</span></span>
<span class="fade-in-up line"><span class=fade-in-up style=color:#6f42c1;--shiki-dark:#B392F0>    badge</span><span class=fade-in-up style=color:#24292e;--shiki-dark:#E1E4E8>=</span><span class=fade-in-up style=color:#032f62;--shiki-dark:#9ECBFF>{post.data.badge}</span></span>
<span class="fade-in-up line"><span class=fade-in-up style=color:#6f42c1;--shiki-dark:#B392F0>    categories</span><span class=fade-in-up style=color:#24292e;--shiki-dark:#E1E4E8>=</span><span class=fade-in-up style=color:#032f62;--shiki-dark:#9ECBFF>{post.data.categories}</span></span>
<span class="fade-in-up line"><span class=fade-in-up style=color:#6f42c1;--shiki-dark:#B392F0>    tags</span><span class=fade-in-up style=color:#24292e;--shiki-dark:#E1E4E8>=</span><span class=fade-in-up style=color:#032f62;--shiki-dark:#9ECBFF>{post.data.tags}</span></span>
<span class="fade-in-up line"><span class=fade-in-up style=color:#6f42c1;--shiki-dark:#B392F0>    word</span><span class=fade-in-up style=color:#24292e;--shiki-dark:#E1E4E8>=</span><span class=fade-in-up style=color:#032f62;--shiki-dark:#9ECBFF>{remarkPluginFrontmatter.totalCharCount}</span></span>
<span class="fade-in-up line"><span class=fade-in-up style=color:#6f42c1;--shiki-dark:#B392F0>    time</span><span class=fade-in-up style=color:#24292e;--shiki-dark:#E1E4E8>=</span><span class=fade-in-up style=color:#032f62;--shiki-dark:#9ECBFF>{remarkPluginFrontmatter.readingTime}</span></span>
<span class="fade-in-up line"><span class=fade-in-up style=color:#6f42c1;--shiki-dark:#B392F0>    isBlog</span><span class=fade-in-up style=color:#24292e;--shiki-dark:#E1E4E8>=</span><span class=fade-in-up style=color:#032f62;--shiki-dark:#9ECBFF>"true"</span></span>
<span class="fade-in-up line"><span class=fade-in-up style=color:#6f42c1;--shiki-dark:#B392F0>    comment</span><span class=fade-in-up style=color:#24292e;--shiki-dark:#E1E4E8>=</span><span class=fade-in-up style=color:#032f62;--shiki-dark:#9ECBFF>"true"</span></span>
<span class="fade-in-up line"><span class=fade-in-up style=color:#24292e;--shiki-dark:#E1E4E8>  ></span></span>
<span class="fade-in-up line"></span></code></pre></div></figure><p class=fade-in-up>然后在 src/consts.ts文件修改SERVER_URL,例如 <a class=fade-in-up href=http://waline.example.com rel=nofollow>http://waline.example.com<span><svg viewBox="0 0 24 24" xmlns=http://www.w3.org/2000/svg fill=none height=1em width=1em><g id=SVGRepo_bgCarrier stroke-width=0></g><g id=SVGRepo_tracerCarrier stroke-linecap=round stroke-linejoin=round></g><g id=SVGRepo_iconCarrier><g id=SVGRepo_iconCarrier><path d="M10.0002 5H8.2002C7.08009 5 6.51962 5 6.0918 5.21799C5.71547 5.40973 5.40973 5.71547 5.21799 6.0918C5 6.51962 5 7.08009 5 8.2002V15.8002C5 16.9203 5 17.4801 5.21799 17.9079C5.40973 18.2842 5.71547 18.5905 6.0918 18.7822C6.5192 19 7.07899 19 8.19691 19H15.8031C16.921 19 17.48 19 17.9074 18.7822C18.2837 18.5905 18.5905 18.2839 18.7822 17.9076C19 17.4802 19 16.921 19 15.8031V14M20 9V4M20 4H15M20 4L13 11" stroke-linecap=round stroke-linejoin=round stroke-width=2 stroke=#888></path></g></g></svg></span></a>,我们暂时还没有这个网站,要往CF里添加这一条记录.</p><h2 class=fade-in-up id=heading-4>部署Waline<a class=anchor href=#heading-4 aria-label="Anchor to 部署Waline"> <span class=anchor-icon aria-hidden=true data-pagefind-ignore=""></span> <span class=sr-only>Link to 部署Waline</span></a></h2><p class=fade-in-up>来到<a class=fade-in-up href=https://waline.js.org/guide/ rel=nofollow>waline<span><svg viewBox="0 0 24 24" xmlns=http://www.w3.org/2000/svg fill=none height=1em width=1em><g id=SVGRepo_bgCarrier stroke-width=0></g><g id=SVGRepo_tracerCarrier stroke-linecap=round stroke-linejoin=round></g><g id=SVGRepo_iconCarrier><g id=SVGRepo_iconCarrier><path d="M10.0002 5H8.2002C7.08009 5 6.51962 5 6.0918 5.21799C5.71547 5.40973 5.40973 5.71547 5.21799 6.0918C5 6.51962 5 7.08009 5 8.2002V15.8002C5 16.9203 5 17.4801 5.21799 17.9079C5.40973 18.2842 5.71547 18.5905 6.0918 18.7822C6.5192 19 7.07899 19 8.19691 19H15.8031C16.921 19 17.48 19 17.9074 18.7822C18.2837 18.5905 18.5905 18.2839 18.7822 17.9076C19 17.4802 19 16.921 19 15.8031V14M20 9V4M20 4H15M20 4L13 11" stroke-linecap=round stroke-linejoin=round stroke-width=2 stroke=#888></path></g></g></svg></span></a>文档,我们可以选择适合自己的方式部署.别的那些线上部署我不熟悉,看起来也挺麻烦的,我选择的是非常原始但我熟悉的Docker + MySQL</p><p class=fade-in-up>这里我参考了<a class=fade-in-up href=https://bg3lnt.xyz/posts/dc23e930.html rel=nofollow>使用docker独立部署MySQL<span><svg viewBox="0 0 24 24" xmlns=http://www.w3.org/2000/svg fill=none height=1em width=1em><g id=SVGRepo_bgCarrier stroke-width=0></g><g id=SVGRepo_tracerCarrier stroke-linecap=round stroke-linejoin=round></g><g id=SVGRepo_iconCarrier><g id=SVGRepo_iconCarrier><path d="M10.0002 5H8.2002C7.08009 5 6.51962 5 6.0918 5.21799C5.71547 5.40973 5.40973 5.71547 5.21799 6.0918C5 6.51962 5 7.08009 5 8.2002V15.8002C5 16.9203 5 17.4801 5.21799 17.9079C5.40973 18.2842 5.71547 18.5905 6.0918 18.7822C6.5192 19 7.07899 19 8.19691 19H15.8031C16.921 19 17.48 19 17.9074 18.7822C18.2837 18.5905 18.5905 18.2839 18.7822 17.9076C19 17.4802 19 16.921 19 15.8031V14M20 9V4M20 4H15M20 4L13 11" stroke-linecap=round stroke-linejoin=round stroke-width=2 stroke=#888></path></g></g></svg></span></a></p><p class=fade-in-up>不过我有远程的MySQL服务器(得感谢Github学生包啊,美美享用微软的Azure服务器)</p><p class=fade-in-up>我先连接我的数据库(这里用的是Navicat,没用的话也可以用命令行去连接),然后新建一个数据库<code class=fade-in-up>waline</code>,右键”运行SQL文件: <img alt="Run SQL" decoding=async height=578 loading=lazy src=/_astro/Build-Website-Run-SQL.D-NhPUdj_Z2tlMHD.webp width=421></p><p class=fade-in-up>waline文档指引我们导入<a class=fade-in-up href=https://github.com/walinejs/waline/blob/main/assets/waline.sql rel=nofollow>waline.sql<span><svg viewBox="0 0 24 24" xmlns=http://www.w3.org/2000/svg fill=none height=1em width=1em><g id=SVGRepo_bgCarrier stroke-width=0></g><g id=SVGRepo_tracerCarrier stroke-linecap=round stroke-linejoin=round></g><g id=SVGRepo_iconCarrier><g id=SVGRepo_iconCarrier><path d="M10.0002 5H8.2002C7.08009 5 6.51962 5 6.0918 5.21799C5.71547 5.40973 5.40973 5.71547 5.21799 6.0918C5 6.51962 5 7.08009 5 8.2002V15.8002C5 16.9203 5 17.4801 5.21799 17.9079C5.40973 18.2842 5.71547 18.5905 6.0918 18.7822C6.5192 19 7.07899 19 8.19691 19H15.8031C16.921 19 17.48 19 17.9074 18.7822C18.2837 18.5905 18.5905 18.2839 18.7822 17.9076C19 17.4802 19 16.921 19 15.8031V14M20 9V4M20 4H15M20 4L13 11" stroke-linecap=round stroke-linejoin=round stroke-width=2 stroke=#888></path></g></g></svg></span></a>文件,</p><blockquote class=fade-in-up><p class=fade-in-up>一开始这个文件导入会出错,因为含有非法的SQL语句.我已向源项目提交PR.</p></blockquote><p class=fade-in-up>导入后,确保你的服务器上已经下载好了waline的仓库:</p><figure class="fade-in-up highlight bash"><div class="fade-in-up highlight-tools"><div class="fade-in-up code-lang">BASH</div><div class="fade-in-up code-container"><label class="btn btn-ghost btn-sm copy-btn swap swap-flip" for=7bb24ca8-5cea-4da5-8695-e1c9480c911a aria-label="Copy to clipboard"><span class="fade-in-up sr-only">Copy to clipboard</span><input id=7bb24ca8-5cea-4da5-8695-e1c9480c911a type=checkbox class="fade-in-up copy-checkbox"><div class=swap-on><svg class="fade-in-up h-6 shrink-0 stroke-current w-6" viewBox="0 -0.5 25 25" xmlns=http://www.w3.org/2000/svg fill=none><path d="M5.5 12.5L10.167 17L19.5 8" stroke-linecap=round stroke-linejoin=round stroke-width=1.5 class=fade-in-up></path></svg></div><div class=swap-off><svg class="fade-in-up h-6 shrink-0 stroke-current w-6" viewBox="0 -0.5 25 25" xmlns=http://www.w3.org/2000/svg fill=none><path d="M17.676 14.248C17.676 15.8651 16.3651 17.176 14.748 17.176H7.428C5.81091 17.176 4.5 15.8651 4.5 14.248V6.928C4.5 5.31091 5.81091 4 7.428 4H14.748C16.3651 4 17.676 5.31091 17.676 6.928V14.248Z" stroke-linecap=round stroke-linejoin=round stroke-width=1.5 class=fade-in-up clip-rule=evenodd fill-rule=evenodd></path><path d="M10.252 20H17.572C19.1891 20 20.5 18.689 20.5 17.072V9.75195" stroke-linecap=round stroke-linejoin=round stroke-width=1.5 class=fade-in-up></path></svg></div></label></div></div><div class="fade-in-up highlight-code"><pre class="fade-in-up frosti-code gutter"><code class=fade-in-up><div class="fade-in-up line">1</div><div class="fade-in-up line">2</div></code></pre><pre class="fade-in-up frosti-code code"><code class=fade-in-up><span class="fade-in-up line"><span class=fade-in-up style=color:#6f42c1;--shiki-dark:#B392F0>git</span><span class=fade-in-up style=color:#032f62;--shiki-dark:#9ECBFF> clone</span><span class=fade-in-up style=color:#032f62;--shiki-dark:#9ECBFF> https://github.com/walinejs/waline.git</span></span>
<span class="fade-in-up line"><span class=fade-in-up style=color:#005cc5;--shiki-dark:#79B8FF>cd</span><span class=fade-in-up style=color:#032f62;--shiki-dark:#9ECBFF> waline/packages/server</span></span>
<span class="fade-in-up line"></span></code></pre></div></figure><p class=fade-in-up>编辑docker-compose文件</p><figure class="fade-in-up highlight bash"><div class="fade-in-up highlight-tools"><div class="fade-in-up code-lang">BASH</div><div class="fade-in-up code-container"><label class="btn btn-ghost btn-sm copy-btn swap swap-flip" for=a64beedd-1f80-41e8-b769-337f7eec70e5 aria-label="Copy to clipboard"><span class="fade-in-up sr-only">Copy to clipboard</span><input id=a64beedd-1f80-41e8-b769-337f7eec70e5 type=checkbox class="fade-in-up copy-checkbox"><div class=swap-on><svg class="fade-in-up h-6 shrink-0 stroke-current w-6" viewBox="0 -0.5 25 25" xmlns=http://www.w3.org/2000/svg fill=none><path d="M5.5 12.5L10.167 17L19.5 8" stroke-linecap=round stroke-linejoin=round stroke-width=1.5 class=fade-in-up></path></svg></div><div class=swap-off><svg class="fade-in-up h-6 shrink-0 stroke-current w-6" viewBox="0 -0.5 25 25" xmlns=http://www.w3.org/2000/svg fill=none><path d="M17.676 14.248C17.676 15.8651 16.3651 17.176 14.748 17.176H7.428C5.81091 17.176 4.5 15.8651 4.5 14.248V6.928C4.5 5.31091 5.81091 4 7.428 4H14.748C16.3651 4 17.676 5.31091 17.676 6.928V14.248Z" stroke-linecap=round stroke-linejoin=round stroke-width=1.5 class=fade-in-up clip-rule=evenodd fill-rule=evenodd></path><path d="M10.252 20H17.572C19.1891 20 20.5 18.689 20.5 17.072V9.75195" stroke-linecap=round stroke-linejoin=round stroke-width=1.5 class=fade-in-up></path></svg></div></label></div></div><div class="fade-in-up highlight-code"><pre class="fade-in-up frosti-code gutter"><code class=fade-in-up><div class="fade-in-up line">1</div></code></pre><pre class="fade-in-up frosti-code code"><code class=fade-in-up><span class="fade-in-up line"><span class=fade-in-up style=color:#6f42c1;--shiki-dark:#B392F0>sudo</span><span class=fade-in-up style=color:#032f62;--shiki-dark:#9ECBFF> vim</span><span class=fade-in-up style=color:#032f62;--shiki-dark:#9ECBFF> docker-compose.yml</span></span>
<span class="fade-in-up line"></span></code></pre></div></figure><p class=fade-in-up>如下</p><figure class="fade-in-up highlight plaintext"><div class="fade-in-up highlight-tools"><div class="fade-in-up code-lang">PLAINTEXT</div><div class="fade-in-up code-container"><label class="btn btn-ghost btn-sm copy-btn swap swap-flip" for=2db59776-a1af-405e-ae46-e976d05c636b aria-label="Copy to clipboard"><span class="fade-in-up sr-only">Copy to clipboard</span><input id=2db59776-a1af-405e-ae46-e976d05c636b type=checkbox class="fade-in-up copy-checkbox"><div class=swap-on><svg class="fade-in-up h-6 shrink-0 stroke-current w-6" viewBox="0 -0.5 25 25" xmlns=http://www.w3.org/2000/svg fill=none><path d="M5.5 12.5L10.167 17L19.5 8" stroke-linecap=round stroke-linejoin=round stroke-width=1.5 class=fade-in-up></path></svg></div><div class=swap-off><svg class="fade-in-up h-6 shrink-0 stroke-current w-6" viewBox="0 -0.5 25 25" xmlns=http://www.w3.org/2000/svg fill=none><path d="M17.676 14.248C17.676 15.8651 16.3651 17.176 14.748 17.176H7.428C5.81091 17.176 4.5 15.8651 4.5 14.248V6.928C4.5 5.31091 5.81091 4 7.428 4H14.748C16.3651 4 17.676 5.31091 17.676 6.928V14.248Z" stroke-linecap=round stroke-linejoin=round stroke-width=1.5 class=fade-in-up clip-rule=evenodd fill-rule=evenodd></path><path d="M10.252 20H17.572C19.1891 20 20.5 18.689 20.5 17.072V9.75195" stroke-linecap=round stroke-linejoin=round stroke-width=1.5 class=fade-in-up></path></svg></div></label></div></div><div class="fade-in-up highlight-code"><pre class="fade-in-up frosti-code gutter"><code class=fade-in-up><div class="fade-in-up line">1</div><div class="fade-in-up line">2</div><div class="fade-in-up line">3</div><div class="fade-in-up line">4</div><div class="fade-in-up line">5</div><div class="fade-in-up line">6</div><div class="fade-in-up line">7</div><div class="fade-in-up line">8</div><div class="fade-in-up line">9</div><div class="fade-in-up line">10</div><div class="fade-in-up line">11</div><div class="fade-in-up line">12</div><div class="fade-in-up line">13</div><div class="fade-in-up line">14</div><div class="fade-in-up line">15</div><div class="fade-in-up line">16</div><div class="fade-in-up line">17</div><div class="fade-in-up line">18</div><div class="fade-in-up line">19</div><div class="fade-in-up line">20</div><div class="fade-in-up line">21</div><div class="fade-in-up line">22</div><div class="fade-in-up line">23</div><div class="fade-in-up line">24</div></code></pre><pre class="fade-in-up frosti-code code"><code class=fade-in-up><span class="fade-in-up line"><span class=fade-in-up># docker-compose.yml</span></span>
<span class="fade-in-up line"><span class=fade-in-up>version: '3'</span></span>
<span class="fade-in-up line"><span class=fade-in-up></span></span>
<span class="fade-in-up line"><span class=fade-in-up>services:</span></span>
<span class="fade-in-up line"><span class=fade-in-up>  waline:</span></span>
<span class="fade-in-up line"><span class=fade-in-up>    container_name: waline</span></span>
<span class="fade-in-up line"><span class=fade-in-up>    image: lizheming/waline:latest</span></span>
<span class="fade-in-up line"><span class=fade-in-up>    restart: always</span></span>
<span class="fade-in-up line"><span class=fade-in-up>    ports:</span></span>
<span class="fade-in-up line"><span class=fade-in-up>      - 172.17.0.1:8360:8360</span></span>
<span class="fade-in-up line"><span class=fade-in-up>    volumes:</span></span>
<span class="fade-in-up line"><span class=fade-in-up>      - ${PWD}/data:/app/data</span></span>
<span class="fade-in-up line"><span class=fade-in-up>    environment:</span></span>
<span class="fade-in-up line"><span class=fade-in-up>      TZ: 'Asia/Shanghai'</span></span>
<span class="fade-in-up line"><span class=fade-in-up>      MYSQL_HOST: "REMOTE DATABASE HOST"</span></span>
<span class="fade-in-up line"><span class=fade-in-up>      MYSSQL_PORT: 3306</span></span>
<span class="fade-in-up line"><span class=fade-in-up>      MYSQL_DB: "waline"</span></span>
<span class="fade-in-up line"><span class=fade-in-up>      MYSQL_USER: "USERXXX"</span></span>
<span class="fade-in-up line"><span class=fade-in-up>      MYSQL_PASSWORD: "PSWXXX"</span></span>
<span class="fade-in-up line"><span class=fade-in-up>      MYSQL_SSL: "true"</span></span>
<span class="fade-in-up line"><span class=fade-in-up>      SITE_NAME: "可不填"</span></span>
<span class="fade-in-up line"><span class=fade-in-up>      SITE_URL: '可不填'</span></span>
<span class="fade-in-up line"><span class=fade-in-up>      AUTHOR_EMAIL: 'YOUR EMAIL'</span></span>
<span class="fade-in-up line"><span class=fade-in-up>      IPQPS: 30 # 参考服务端配置</span></span>
<span class="fade-in-up line"><span class=fade-in-up></span></span></code></pre></div></figure><p class=fade-in-up>参考<a class=fade-in-up href=https://waline.js.org/reference/server/env.html rel=nofollow>服务端环境变量 | Waline<span><svg viewBox="0 0 24 24" xmlns=http://www.w3.org/2000/svg fill=none height=1em width=1em><g id=SVGRepo_bgCarrier stroke-width=0></g><g id=SVGRepo_tracerCarrier stroke-linecap=round stroke-linejoin=round></g><g id=SVGRepo_iconCarrier><g id=SVGRepo_iconCarrier><path d="M10.0002 5H8.2002C7.08009 5 6.51962 5 6.0918 5.21799C5.71547 5.40973 5.40973 5.71547 5.21799 6.0918C5 6.51962 5 7.08009 5 8.2002V15.8002C5 16.9203 5 17.4801 5.21799 17.9079C5.40973 18.2842 5.71547 18.5905 6.0918 18.7822C6.5192 19 7.07899 19 8.19691 19H15.8031C16.921 19 17.48 19 17.9074 18.7822C18.2837 18.5905 18.5905 18.2839 18.7822 17.9076C19 17.4802 19 16.921 19 15.8031V14M20 9V4M20 4H15M20 4L13 11" stroke-linecap=round stroke-linejoin=round stroke-width=2 stroke=#888></path></g></g></svg></span></a>可以自己添加 编写好配置文件后</p><figure class="fade-in-up highlight bash"><div class="fade-in-up highlight-tools"><div class="fade-in-up code-lang">BASH</div><div class="fade-in-up code-container"><label class="btn btn-ghost btn-sm copy-btn swap swap-flip" for=ba612e8d-60ad-4d4b-a8cd-46123c816984 aria-label="Copy to clipboard"><span class="fade-in-up sr-only">Copy to clipboard</span><input id=ba612e8d-60ad-4d4b-a8cd-46123c816984 type=checkbox class="fade-in-up copy-checkbox"><div class=swap-on><svg class="fade-in-up h-6 shrink-0 stroke-current w-6" viewBox="0 -0.5 25 25" xmlns=http://www.w3.org/2000/svg fill=none><path d="M5.5 12.5L10.167 17L19.5 8" stroke-linecap=round stroke-linejoin=round stroke-width=1.5 class=fade-in-up></path></svg></div><div class=swap-off><svg class="fade-in-up h-6 shrink-0 stroke-current w-6" viewBox="0 -0.5 25 25" xmlns=http://www.w3.org/2000/svg fill=none><path d="M17.676 14.248C17.676 15.8651 16.3651 17.176 14.748 17.176H7.428C5.81091 17.176 4.5 15.8651 4.5 14.248V6.928C4.5 5.31091 5.81091 4 7.428 4H14.748C16.3651 4 17.676 5.31091 17.676 6.928V14.248Z" stroke-linecap=round stroke-linejoin=round stroke-width=1.5 class=fade-in-up clip-rule=evenodd fill-rule=evenodd></path><path d="M10.252 20H17.572C19.1891 20 20.5 18.689 20.5 17.072V9.75195" stroke-linecap=round stroke-linejoin=round stroke-width=1.5 class=fade-in-up></path></svg></div></label></div></div><div class="fade-in-up highlight-code"><pre class="fade-in-up frosti-code gutter"><code class=fade-in-up><div class="fade-in-up line">1</div></code></pre><pre class="fade-in-up frosti-code code"><code class=fade-in-up><span class="fade-in-up line"><span class=fade-in-up style=color:#6f42c1;--shiki-dark:#B392F0>sudo</span><span class=fade-in-up style=color:#032f62;--shiki-dark:#9ECBFF> docker-compose</span><span class=fade-in-up style=color:#032f62;--shiki-dark:#9ECBFF> up</span><span class=fade-in-up style=color:#005cc5;--shiki-dark:#79B8FF> -d</span></span>
<span class="fade-in-up line"></span></code></pre></div></figure><blockquote class=fade-in-up><p class=fade-in-up>最好按我的来,用docker-compose,不要用文档上的docker build,不得不说,docker部署这部分的文档写得混乱</p></blockquote><p class=fade-in-up>成功后,docker容器运行在8360端口上,且外部不可通过IP:8360访问到,比较安全.</p><figure class="fade-in-up highlight bash"><div class="fade-in-up highlight-tools"><div class="fade-in-up code-lang">BASH</div><div class="fade-in-up code-container"><label class="btn btn-ghost btn-sm copy-btn swap swap-flip" for=58f77ddf-72f6-41cb-aceb-6350f2f6e50c aria-label="Copy to clipboard"><span class="fade-in-up sr-only">Copy to clipboard</span><input id=58f77ddf-72f6-41cb-aceb-6350f2f6e50c type=checkbox class="fade-in-up copy-checkbox"><div class=swap-on><svg class="fade-in-up h-6 shrink-0 stroke-current w-6" viewBox="0 -0.5 25 25" xmlns=http://www.w3.org/2000/svg fill=none><path d="M5.5 12.5L10.167 17L19.5 8" stroke-linecap=round stroke-linejoin=round stroke-width=1.5 class=fade-in-up></path></svg></div><div class=swap-off><svg class="fade-in-up h-6 shrink-0 stroke-current w-6" viewBox="0 -0.5 25 25" xmlns=http://www.w3.org/2000/svg fill=none><path d="M17.676 14.248C17.676 15.8651 16.3651 17.176 14.748 17.176H7.428C5.81091 17.176 4.5 15.8651 4.5 14.248V6.928C4.5 5.31091 5.81091 4 7.428 4H14.748C16.3651 4 17.676 5.31091 17.676 6.928V14.248Z" stroke-linecap=round stroke-linejoin=round stroke-width=1.5 class=fade-in-up clip-rule=evenodd fill-rule=evenodd></path><path d="M10.252 20H17.572C19.1891 20 20.5 18.689 20.5 17.072V9.75195" stroke-linecap=round stroke-linejoin=round stroke-width=1.5 class=fade-in-up></path></svg></div></label></div></div><div class="fade-in-up highlight-code"><pre class="fade-in-up frosti-code gutter"><code class=fade-in-up><div class="fade-in-up line">1</div></code></pre><pre class="fade-in-up frosti-code code"><code class=fade-in-up><span class="fade-in-up line"><span class=fade-in-up style=color:#6f42c1;--shiki-dark:#B392F0>netstat</span><span class=fade-in-up style=color:#005cc5;--shiki-dark:#79B8FF> -tln</span></span>
<span class="fade-in-up line"></span></code></pre></div></figure><p class=fade-in-up>172.17.0.1:8360处于LISTEN状态.</p><h1 class=fade-in-up id=heading-5>配置Nginx<a class=anchor href=#heading-5 aria-label="Anchor to 配置Nginx"> <span class=anchor-icon aria-hidden=true data-pagefind-ignore=""></span> <span class=sr-only>Link to 配置Nginx</span></a></h1><p class=fade-in-up>我的网站一开始是直接IP访问80端口的,现在,我们可以改用域名访问,稍后,再升级为HTTPS. 首先,nginx的配置文件都在/etc/nginx里面</p><p class=fade-in-up>conf.d,site-avalible,site-enable都存放了server配置文件.网页展示的site-enable里.Nginx默认的页面放在site-enable,并且site-avalible里也有一份.我的实践方式是在site-avalible中编辑配置文件,然后在site-enable中创建软连接指着site-avalible的文件</p><figure class="fade-in-up highlight bash"><div class="fade-in-up highlight-tools"><div class="fade-in-up code-lang">BASH</div><div class="fade-in-up code-container"><label class="btn btn-ghost btn-sm copy-btn swap swap-flip" for=0e315d56-b8a5-4933-b873-6c6f49ba9179 aria-label="Copy to clipboard"><span class="fade-in-up sr-only">Copy to clipboard</span><input id=0e315d56-b8a5-4933-b873-6c6f49ba9179 type=checkbox class="fade-in-up copy-checkbox"><div class=swap-on><svg class="fade-in-up h-6 shrink-0 stroke-current w-6" viewBox="0 -0.5 25 25" xmlns=http://www.w3.org/2000/svg fill=none><path d="M5.5 12.5L10.167 17L19.5 8" stroke-linecap=round stroke-linejoin=round stroke-width=1.5 class=fade-in-up></path></svg></div><div class=swap-off><svg class="fade-in-up h-6 shrink-0 stroke-current w-6" viewBox="0 -0.5 25 25" xmlns=http://www.w3.org/2000/svg fill=none><path d="M17.676 14.248C17.676 15.8651 16.3651 17.176 14.748 17.176H7.428C5.81091 17.176 4.5 15.8651 4.5 14.248V6.928C4.5 5.31091 5.81091 4 7.428 4H14.748C16.3651 4 17.676 5.31091 17.676 6.928V14.248Z" stroke-linecap=round stroke-linejoin=round stroke-width=1.5 class=fade-in-up clip-rule=evenodd fill-rule=evenodd></path><path d="M10.252 20H17.572C19.1891 20 20.5 18.689 20.5 17.072V9.75195" stroke-linecap=round stroke-linejoin=round stroke-width=1.5 class=fade-in-up></path></svg></div></label></div></div><div class="fade-in-up highlight-code"><pre class="fade-in-up frosti-code gutter"><code class=fade-in-up><div class="fade-in-up line">1</div><div class="fade-in-up line">2</div><div class="fade-in-up line">3</div></code></pre><pre class="fade-in-up frosti-code code"><code class=fade-in-up><span class="fade-in-up line"><span class=fade-in-up style=color:#005cc5;--shiki-dark:#79B8FF>cd</span><span class=fade-in-up style=color:#032f62;--shiki-dark:#9ECBFF> ./site-enable</span></span>
<span class="fade-in-up line"><span class=fade-in-up style=color:#6f42c1;--shiki-dark:#B392F0>ln</span><span class=fade-in-up style=color:#005cc5;--shiki-dark:#79B8FF> -s</span><span class=fade-in-up style=color:#032f62;--shiki-dark:#9ECBFF> ../site-avalible/astro</span><span class=fade-in-up style=color:#032f62;--shiki-dark:#9ECBFF> astro</span></span>
<span class="fade-in-up line"><span class=fade-in-up style=color:#6f42c1;--shiki-dark:#B392F0>ln</span><span class=fade-in-up style=color:#005cc5;--shiki-dark:#79B8FF> -s</span><span class=fade-in-up style=color:#032f62;--shiki-dark:#9ECBFF> ../site-avalible/waline</span><span class=fade-in-up style=color:#032f62;--shiki-dark:#9ECBFF> waline</span></span>
<span class="fade-in-up line"></span></code></pre></div></figure><p class=fade-in-up>编写类似如下的内容:</p><figure class="fade-in-up highlight nginx"><div class="fade-in-up highlight-tools"><div class="fade-in-up code-lang">NGINX</div><div class="fade-in-up code-container"><label class="btn btn-ghost btn-sm copy-btn swap swap-flip" for=72e026d6-877d-432e-bcdb-71e03ec33687 aria-label="Copy to clipboard"><span class="fade-in-up sr-only">Copy to clipboard</span><input id=72e026d6-877d-432e-bcdb-71e03ec33687 type=checkbox class="fade-in-up copy-checkbox"><div class=swap-on><svg class="fade-in-up h-6 shrink-0 stroke-current w-6" viewBox="0 -0.5 25 25" xmlns=http://www.w3.org/2000/svg fill=none><path d="M5.5 12.5L10.167 17L19.5 8" stroke-linecap=round stroke-linejoin=round stroke-width=1.5 class=fade-in-up></path></svg></div><div class=swap-off><svg class="fade-in-up h-6 shrink-0 stroke-current w-6" viewBox="0 -0.5 25 25" xmlns=http://www.w3.org/2000/svg fill=none><path d="M17.676 14.248C17.676 15.8651 16.3651 17.176 14.748 17.176H7.428C5.81091 17.176 4.5 15.8651 4.5 14.248V6.928C4.5 5.31091 5.81091 4 7.428 4H14.748C16.3651 4 17.676 5.31091 17.676 6.928V14.248Z" stroke-linecap=round stroke-linejoin=round stroke-width=1.5 class=fade-in-up clip-rule=evenodd fill-rule=evenodd></path><path d="M10.252 20H17.572C19.1891 20 20.5 18.689 20.5 17.072V9.75195" stroke-linecap=round stroke-linejoin=round stroke-width=1.5 class=fade-in-up></path></svg></div></label></div></div><div class="fade-in-up highlight-code"><pre class="fade-in-up frosti-code gutter"><code class=fade-in-up><div class="fade-in-up line">1</div><div class="fade-in-up line">2</div><div class="fade-in-up line">3</div><div class="fade-in-up line">4</div><div class="fade-in-up line">5</div><div class="fade-in-up line">6</div><div class="fade-in-up line">7</div><div class="fade-in-up line">8</div><div class="fade-in-up line">9</div><div class="fade-in-up line">10</div><div class="fade-in-up line">11</div><div class="fade-in-up line">12</div><div class="fade-in-up line">13</div><div class="fade-in-up line">14</div><div class="fade-in-up line">15</div><div class="fade-in-up line">16</div><div class="fade-in-up line">17</div></code></pre><pre class="fade-in-up frosti-code code"><code class=fade-in-up><span class="fade-in-up line"><span class=fade-in-up style=color:#d73a49;--shiki-dark:#F97583>server</span><span class=fade-in-up style=color:#24292e;--shiki-dark:#E1E4E8> {</span></span>
<span class="fade-in-up line"><span class=fade-in-up style=color:#d73a49;--shiki-dark:#F97583>	listen </span><span class=fade-in-up style=color:#005cc5;--shiki-dark:#79B8FF>80</span><span class=fade-in-up style=color:#24292e;--shiki-dark:#E1E4E8>;</span></span>
<span class="fade-in-up line"><span class=fade-in-up style=color:#d73a49;--shiki-dark:#F97583>    server_name </span><span class=fade-in-up style=color:#24292e;--shiki-dark:#E1E4E8>www.example.com example.com;  </span><span class=fade-in-up style=color:#6a737d;--shiki-dark:#6A737D># 你的域名或者 IP 地址</span></span>
<span class="fade-in-up line"></span>
<span class="fade-in-up line"><span class=fade-in-up style=color:#d73a49;--shiki-dark:#F97583>    root </span><span class=fade-in-up style=color:#24292e;--shiki-dark:#E1E4E8>/path/to/astroProject/dist;  </span><span class=fade-in-up style=color:#6a737d;--shiki-dark:#6A737D># 指向 Astro 构建的 dist 目录</span></span>
<span class="fade-in-up line"><span class=fade-in-up style=color:#d73a49;--shiki-dark:#F97583>    index </span><span class=fade-in-up style=color:#24292e;--shiki-dark:#E1E4E8>index.html;</span></span>
<span class="fade-in-up line"></span>
<span class="fade-in-up line"><span class=fade-in-up style=color:#6a737d;--shiki-dark:#6A737D>    # 配置静态资源缓存（可选）</span></span>
<span class="fade-in-up line"><span class=fade-in-up style=color:#d73a49;--shiki-dark:#F97583>    location</span><span class=fade-in-up style=color:#6f42c1;--shiki-dark:#B392F0> / </span><span class=fade-in-up style=color:#24292e;--shiki-dark:#E1E4E8>{</span></span>
<span class="fade-in-up line"><span class=fade-in-up style=color:#d73a49;--shiki-dark:#F97583>        try_files </span><span class=fade-in-up style=color:#24292e;--shiki-dark:#E1E4E8>$uri $uri/ </span><span class=fade-in-up style=color:#005cc5;--shiki-dark:#79B8FF>=404</span><span class=fade-in-up style=color:#24292e;--shiki-dark:#E1E4E8>;</span></span>
<span class="fade-in-up line"><span class=fade-in-up style=color:#24292e;--shiki-dark:#E1E4E8>    }</span></span>
<span class="fade-in-up line"></span>
<span class="fade-in-up line"><span class=fade-in-up style=color:#6a737d;--shiki-dark:#6A737D>    # 配置 gzip 压缩（可选，提高性能）</span></span>
<span class="fade-in-up line"><span class=fade-in-up style=color:#d73a49;--shiki-dark:#F97583>    gzip </span><span class=fade-in-up style=color:#005cc5;--shiki-dark:#79B8FF>on</span><span class=fade-in-up style=color:#24292e;--shiki-dark:#E1E4E8>;</span></span>
<span class="fade-in-up line"><span class=fade-in-up style=color:#d73a49;--shiki-dark:#F97583>    gzip_types </span><span class=fade-in-up style=color:#24292e;--shiki-dark:#E1E4E8>text/plain application/xml text/css application/javascript;</span></span>
<span class="fade-in-up line"><span class=fade-in-up style=color:#d73a49;--shiki-dark:#F97583>    gzip_min_length </span><span class=fade-in-up style=color:#005cc5;--shiki-dark:#79B8FF>1000</span><span class=fade-in-up style=color:#24292e;--shiki-dark:#E1E4E8>;</span></span>
<span class="fade-in-up line"><span class=fade-in-up style=color:#24292e;--shiki-dark:#E1E4E8>}</span></span>
<span class="fade-in-up line"></span></code></pre></div></figure><p class=fade-in-up>保存退出后,测试并重启nginx</p><figure class="fade-in-up highlight bash"><div class="fade-in-up highlight-tools"><div class="fade-in-up code-lang">BASH</div><div class="fade-in-up code-container"><label class="btn btn-ghost btn-sm copy-btn swap swap-flip" for=255de004-1ae0-4606-89bb-b64e39ce6a9a aria-label="Copy to clipboard"><span class="fade-in-up sr-only">Copy to clipboard</span><input id=255de004-1ae0-4606-89bb-b64e39ce6a9a type=checkbox class="fade-in-up copy-checkbox"><div class=swap-on><svg class="fade-in-up h-6 shrink-0 stroke-current w-6" viewBox="0 -0.5 25 25" xmlns=http://www.w3.org/2000/svg fill=none><path d="M5.5 12.5L10.167 17L19.5 8" stroke-linecap=round stroke-linejoin=round stroke-width=1.5 class=fade-in-up></path></svg></div><div class=swap-off><svg class="fade-in-up h-6 shrink-0 stroke-current w-6" viewBox="0 -0.5 25 25" xmlns=http://www.w3.org/2000/svg fill=none><path d="M17.676 14.248C17.676 15.8651 16.3651 17.176 14.748 17.176H7.428C5.81091 17.176 4.5 15.8651 4.5 14.248V6.928C4.5 5.31091 5.81091 4 7.428 4H14.748C16.3651 4 17.676 5.31091 17.676 6.928V14.248Z" stroke-linecap=round stroke-linejoin=round stroke-width=1.5 class=fade-in-up clip-rule=evenodd fill-rule=evenodd></path><path d="M10.252 20H17.572C19.1891 20 20.5 18.689 20.5 17.072V9.75195" stroke-linecap=round stroke-linejoin=round stroke-width=1.5 class=fade-in-up></path></svg></div></label></div></div><div class="fade-in-up highlight-code"><pre class="fade-in-up frosti-code gutter"><code class=fade-in-up><div class="fade-in-up line">1</div><div class="fade-in-up line">2</div></code></pre><pre class="fade-in-up frosti-code code"><code class=fade-in-up><span class="fade-in-up line"><span class=fade-in-up style=color:#6f42c1;--shiki-dark:#B392F0>sudo</span><span class=fade-in-up style=color:#032f62;--shiki-dark:#9ECBFF> nginx</span><span class=fade-in-up style=color:#005cc5;--shiki-dark:#79B8FF> -t</span></span>
<span class="fade-in-up line"><span class=fade-in-up style=color:#6f42c1;--shiki-dark:#B392F0>sudo</span><span class=fade-in-up style=color:#032f62;--shiki-dark:#9ECBFF> systemctl</span><span class=fade-in-up style=color:#032f62;--shiki-dark:#9ECBFF> restart</span><span class=fade-in-up style=color:#032f62;--shiki-dark:#9ECBFF> nginx</span></span>
<span class="fade-in-up line"></span></code></pre></div></figure><h2 class=fade-in-up id=heading-6>Nginx反代Waline<a class=anchor href=#heading-6 aria-label="Anchor to Nginx反代Waline"> <span class=anchor-icon aria-hidden=true data-pagefind-ignore=""></span> <span class=sr-only>Link to Nginx反代Waline</span></a></h2><p class=fade-in-up>还记得我们在Frosti里面把SERVER_URL设置为waline.example.com吗?访问这个URL,实际上是访问的80 或443端口,而不是docker运行的8360端口,而且docker容器只对内网开放.所以,像上面那样配置是不能直接提供服务的.</p><p class=fade-in-up>我们要做的是像一个路由器那样,把外来的请求转发到内网的另一个地方去,这就叫<strong class=fade-in-up>反向代理</strong>,是Nginx一个很强大的功能.</p><p class=fade-in-up>在上面的docker-compose.yml文件中,我们把172.17.0.1:8360映射到镜像的8360端口,netstat也显示容器监听172.17.0.1的8360端口,所以我们要做的就是把来自域名waline.example.com的请求发送到172.17.0.1:8360去.</p><figure class="fade-in-up highlight nginx"><div class="fade-in-up highlight-tools"><div class="fade-in-up code-lang">NGINX</div><div class="fade-in-up code-container"><label class="btn btn-ghost btn-sm copy-btn swap swap-flip" for=535e720f-e6b6-4b8c-987f-efb0fd8fd8b4 aria-label="Copy to clipboard"><span class="fade-in-up sr-only">Copy to clipboard</span><input id=535e720f-e6b6-4b8c-987f-efb0fd8fd8b4 type=checkbox class="fade-in-up copy-checkbox"><div class=swap-on><svg class="fade-in-up h-6 shrink-0 stroke-current w-6" viewBox="0 -0.5 25 25" xmlns=http://www.w3.org/2000/svg fill=none><path d="M5.5 12.5L10.167 17L19.5 8" stroke-linecap=round stroke-linejoin=round stroke-width=1.5 class=fade-in-up></path></svg></div><div class=swap-off><svg class="fade-in-up h-6 shrink-0 stroke-current w-6" viewBox="0 -0.5 25 25" xmlns=http://www.w3.org/2000/svg fill=none><path d="M17.676 14.248C17.676 15.8651 16.3651 17.176 14.748 17.176H7.428C5.81091 17.176 4.5 15.8651 4.5 14.248V6.928C4.5 5.31091 5.81091 4 7.428 4H14.748C16.3651 4 17.676 5.31091 17.676 6.928V14.248Z" stroke-linecap=round stroke-linejoin=round stroke-width=1.5 class=fade-in-up clip-rule=evenodd fill-rule=evenodd></path><path d="M10.252 20H17.572C19.1891 20 20.5 18.689 20.5 17.072V9.75195" stroke-linecap=round stroke-linejoin=round stroke-width=1.5 class=fade-in-up></path></svg></div></label></div></div><div class="fade-in-up highlight-code"><pre class="fade-in-up frosti-code gutter"><code class=fade-in-up><div class="fade-in-up line">1</div><div class="fade-in-up line">2</div><div class="fade-in-up line">3</div><div class="fade-in-up line">4</div><div class="fade-in-up line">5</div><div class="fade-in-up line">6</div><div class="fade-in-up line">7</div><div class="fade-in-up line">8</div><div class="fade-in-up line">9</div><div class="fade-in-up line">10</div><div class="fade-in-up line">11</div><div class="fade-in-up line">12</div><div class="fade-in-up line">13</div><div class="fade-in-up line">14</div><div class="fade-in-up line">15</div><div class="fade-in-up line">16</div></code></pre><pre class="fade-in-up frosti-code code"><code class=fade-in-up><span class="fade-in-up line"><span class=fade-in-up style=color:#d73a49;--shiki-dark:#F97583>sever</span><span class=fade-in-up style=color:#24292e;--shiki-dark:#E1E4E8> {</span></span>
<span class="fade-in-up line"><span class=fade-in-up style=color:#d73a49;--shiki-dark:#F97583>	listen </span><span class=fade-in-up style=color:#005cc5;--shiki-dark:#79B8FF>80</span><span class=fade-in-up style=color:#24292e;--shiki-dark:#E1E4E8>;</span></span>
<span class="fade-in-up line"><span class=fade-in-up style=color:#d73a49;--shiki-dark:#F97583>	server_name </span><span class=fade-in-up style=color:#24292e;--shiki-dark:#E1E4E8>waline.example.com;</span></span>
<span class="fade-in-up line"></span>
<span class="fade-in-up line"><span class=fade-in-up style=color:#d73a49;--shiki-dark:#F97583>	location</span><span class=fade-in-up style=color:#6f42c1;--shiki-dark:#B392F0> / </span><span class=fade-in-up style=color:#24292e;--shiki-dark:#E1E4E8>{</span></span>
<span class="fade-in-up line"><span class=fade-in-up style=color:#d73a49;--shiki-dark:#F97583>		proxy_pass </span><span class=fade-in-up style=color:#24292e;--shiki-dark:#E1E4E8>http://172.17.0.1:8360;</span></span>
<span class="fade-in-up line"><span class=fade-in-up style=color:#d73a49;--shiki-dark:#F97583>		proxy_http_version </span><span class=fade-in-up style=color:#005cc5;--shiki-dark:#79B8FF>1.1</span><span class=fade-in-up style=color:#24292e;--shiki-dark:#E1E4E8>;</span></span>
<span class="fade-in-up line"><span class=fade-in-up style=color:#d73a49;--shiki-dark:#F97583>		proxy_set_header </span><span class=fade-in-up style=color:#24292e;--shiki-dark:#E1E4E8>Host $host;</span></span>
<span class="fade-in-up line"><span class=fade-in-up style=color:#d73a49;--shiki-dark:#F97583>		proxy_set_header </span><span class=fade-in-up style=color:#24292e;--shiki-dark:#E1E4E8>X-Real-IP $remote_addr;</span></span>
<span class="fade-in-up line"><span class=fade-in-up style=color:#d73a49;--shiki-dark:#F97583>		proxy_set_header </span><span class=fade-in-up style=color:#24292e;--shiki-dark:#E1E4E8>X-Forwarded-For $proxy_add_x_forwarded_for;</span></span>
<span class="fade-in-up line"><span class=fade-in-up style=color:#d73a49;--shiki-dark:#F97583>		proxy_set_header </span><span class=fade-in-up style=color:#24292e;--shiki-dark:#E1E4E8>X-Forwarded-Proto $scheme;</span></span>
<span class="fade-in-up line"><span class=fade-in-up style=color:#d73a49;--shiki-dark:#F97583>		proxy_set_header </span><span class=fade-in-up style=color:#24292e;--shiki-dark:#E1E4E8>REMOTE-HOST $remote_addr;</span></span>
<span class="fade-in-up line"><span class=fade-in-up style=color:#d73a49;--shiki-dark:#F97583>		add_header </span><span class=fade-in-up style=color:#24292e;--shiki-dark:#E1E4E8>X-Cache $upstream_cache_status;</span></span>
<span class="fade-in-up line"><span class=fade-in-up style=color:#d73a49;--shiki-dark:#F97583>		add_header </span><span class=fade-in-up style=color:#24292e;--shiki-dark:#E1E4E8>Cahce-Control no-cache;</span></span>
<span class="fade-in-up line"><span class=fade-in-up style=color:#24292e;--shiki-dark:#E1E4E8>	}</span></span>
<span class="fade-in-up line"><span class=fade-in-up style=color:#24292e;--shiki-dark:#E1E4E8>}</span></span>
<span class="fade-in-up line"></span></code></pre></div></figure><p class=fade-in-up>这样部署后,登录Waline管理页面就能创建管理账号(第一个登录的用户会被设置为管理员).</p><h3 class=fade-in-up id=heading-7>禁止用户访问Waline的demo页面<a class=anchor href=#heading-7 aria-label="Anchor to 禁止用户访问Waline的demo页面"> <span class=anchor-icon aria-hidden=true data-pagefind-ignore=""></span> <span class=sr-only>Link to 禁止用户访问Waline的demo页面</span></a></h3><p class=fade-in-up>上述配置全部成功后,访问反向代理的自定义域名<code class=fade-in-up>waline.example.com</code>时,会显示 Waline 的 demo 页面,这个页面不应展示.</p><p class=fade-in-up>修改配置文件</p><figure class="fade-in-up highlight nginx"><div class="fade-in-up highlight-tools"><div class="fade-in-up code-lang">NGINX</div><div class="fade-in-up code-container"><label class="btn btn-ghost btn-sm copy-btn swap swap-flip" for=80be9a30-780c-4af0-9ce8-177c8cc37073 aria-label="Copy to clipboard"><span class="fade-in-up sr-only">Copy to clipboard</span><input id=80be9a30-780c-4af0-9ce8-177c8cc37073 type=checkbox class="fade-in-up copy-checkbox"><div class=swap-on><svg class="fade-in-up h-6 shrink-0 stroke-current w-6" viewBox="0 -0.5 25 25" xmlns=http://www.w3.org/2000/svg fill=none><path d="M5.5 12.5L10.167 17L19.5 8" stroke-linecap=round stroke-linejoin=round stroke-width=1.5 class=fade-in-up></path></svg></div><div class=swap-off><svg class="fade-in-up h-6 shrink-0 stroke-current w-6" viewBox="0 -0.5 25 25" xmlns=http://www.w3.org/2000/svg fill=none><path d="M17.676 14.248C17.676 15.8651 16.3651 17.176 14.748 17.176H7.428C5.81091 17.176 4.5 15.8651 4.5 14.248V6.928C4.5 5.31091 5.81091 4 7.428 4H14.748C16.3651 4 17.676 5.31091 17.676 6.928V14.248Z" stroke-linecap=round stroke-linejoin=round stroke-width=1.5 class=fade-in-up clip-rule=evenodd fill-rule=evenodd></path><path d="M10.252 20H17.572C19.1891 20 20.5 18.689 20.5 17.072V9.75195" stroke-linecap=round stroke-linejoin=round stroke-width=1.5 class=fade-in-up></path></svg></div></label></div></div><div class="fade-in-up highlight-code"><pre class="fade-in-up frosti-code gutter"><code class=fade-in-up><div class="fade-in-up line">1</div><div class="fade-in-up line">2</div><div class="fade-in-up line">3</div><div class="fade-in-up line">4</div><div class="fade-in-up line">5</div><div class="fade-in-up line">6</div><div class="fade-in-up line">7</div></code></pre><pre class="fade-in-up frosti-code code"><code class=fade-in-up><span class="fade-in-up line"><span class=fade-in-up style=color:#d73a49;--shiki-dark:#F97583>location</span><span class=fade-in-up style=color:#d73a49;--shiki-dark:#F97583> ~*</span><span class=fade-in-up style=color:#032f62;--shiki-dark:#DBEDFF> ^/.+ </span><span class=fade-in-up style=color:#24292e;--shiki-dark:#E1E4E8>{</span></span>
<span class="fade-in-up line"><span class=fade-in-up style=color:#6a737d;--shiki-dark:#6A737D>	#   原配置</span></span>
<span class="fade-in-up line"><span class=fade-in-up style=color:#24292e;--shiki-dark:#E1E4E8>	...</span></span>
<span class="fade-in-up line"><span class=fade-in-up style=color:#24292e;--shiki-dark:#E1E4E8>}</span></span>
<span class="fade-in-up line"><span class=fade-in-up style=color:#d73a49;--shiki-dark:#F97583>location</span><span class=fade-in-up style=color:#d73a49;--shiki-dark:#F97583> =</span><span class=fade-in-up style=color:#032f62;--shiki-dark:#DBEDFF> / </span><span class=fade-in-up style=color:#24292e;--shiki-dark:#E1E4E8>{</span></span>
<span class="fade-in-up line"><span class=fade-in-up style=color:#d73a49;--shiki-dark:#F97583>	return</span><span class=fade-in-up style=color:#005cc5;--shiki-dark:#79B8FF> 403</span><span class=fade-in-up style=color:#24292e;--shiki-dark:#E1E4E8>;</span></span>
<span class="fade-in-up line"><span class=fade-in-up style=color:#24292e;--shiki-dark:#E1E4E8>}</span></span>
<span class="fade-in-up line"></span></code></pre></div></figure><p class=fade-in-up>通过正则表达式匹配,只有后面跟有request url的请求才被转发,否则返回403 Forbidden状态码.</p><blockquote class=fade-in-up><p class=fade-in-up>配置完成后,记得重启nginx服务哦~</p></blockquote><h1 class=fade-in-up id=heading-8>注册HTTPS证书<a class=anchor href=#heading-8 aria-label="Anchor to 注册HTTPS证书"> <span class=anchor-icon aria-hidden=true data-pagefind-ignore=""></span> <span class=sr-only>Link to 注册HTTPS证书</span></a></h1><p class=fade-in-up>以下操作都是Deepseek告诉我的,基于我已经配置好HTTP服务,实测可用.如果你没有HTTP服务,不知道这只 <code class=fade-in-up>certbot</code> 会怎么处理.🤖</p><hr class=fade-in-up><h2 class=fade-in-up id=heading-9><em class=fade-in-up>DeepSeek - 探索未至之境</em><a class=anchor href=#heading-9 aria-label="Anchor to "> <span class=anchor-icon aria-hidden=true data-pagefind-ignore=""></span> <span class=sr-only>Link to</span></a></h2><p class=fade-in-up>以下是详细的步骤，指导您如何为使用 <strong class=fade-in-up>Nginx + Cloudflare</strong> 的网站配置 HTTPS：</p><h3 class=fade-in-up id=heading-10><strong class=fade-in-up>1. 在 Cloudflare 中启用 HTTPS</strong><a class=anchor href=#heading-10 aria-label="Anchor to "> <span class=anchor-icon aria-hidden=true data-pagefind-ignore=""></span> <span class=sr-only>Link to</span></a></h3><p class=fade-in-up>Cloudflare 提供免费的 SSL/TLS 证书，并自动为您的域名启用 HTTPS。</p><h4 class=fade-in-up id=heading-11><strong class=fade-in-up>步骤 1：登录 Cloudflare 控制面板</strong><a class=anchor href=#heading-11 aria-label="Anchor to "> <span class=anchor-icon aria-hidden=true data-pagefind-ignore=""></span> <span class=sr-only>Link to</span></a></h4><ol class=fade-in-up><li class=fade-in-up>访问 <a class=fade-in-up href=https://www.cloudflare.com/ rel=nofollow>Cloudflare<span><svg viewBox="0 0 24 24" xmlns=http://www.w3.org/2000/svg fill=none height=1em width=1em><g id=SVGRepo_bgCarrier stroke-width=0></g><g id=SVGRepo_tracerCarrier stroke-linecap=round stroke-linejoin=round></g><g id=SVGRepo_iconCarrier><g id=SVGRepo_iconCarrier><path d="M10.0002 5H8.2002C7.08009 5 6.51962 5 6.0918 5.21799C5.71547 5.40973 5.40973 5.71547 5.21799 6.0918C5 6.51962 5 7.08009 5 8.2002V15.8002C5 16.9203 5 17.4801 5.21799 17.9079C5.40973 18.2842 5.71547 18.5905 6.0918 18.7822C6.5192 19 7.07899 19 8.19691 19H15.8031C16.921 19 17.48 19 17.9074 18.7822C18.2837 18.5905 18.5905 18.2839 18.7822 17.9076C19 17.4802 19 16.921 19 15.8031V14M20 9V4M20 4H15M20 4L13 11" stroke-linecap=round stroke-linejoin=round stroke-width=2 stroke=#888></path></g></g></svg></span></a>并登录您的账户。</li><li class=fade-in-up>选择您的域名。</li></ol><h4 class=fade-in-up id=heading-12><strong class=fade-in-up>步骤 2：配置 SSL/TLS 模式</strong><a class=anchor href=#heading-12 aria-label="Anchor to "> <span class=anchor-icon aria-hidden=true data-pagefind-ignore=""></span> <span class=sr-only>Link to</span></a></h4><ol class=fade-in-up><li class=fade-in-up><p class=fade-in-up>点击 <strong class=fade-in-up>SSL/TLS</strong> → <strong class=fade-in-up>Overview</strong>。</p></li><li class=fade-in-up><p class=fade-in-up>选择 SSL/TLS 模式：</p><ul class=fade-in-up><li class=fade-in-up><strong class=fade-in-up>Flexible</strong>：仅加密浏览器到 Cloudflare 的流量（不推荐）。</li><li class=fade-in-up><strong class=fade-in-up>Full</strong>：加密浏览器到 Cloudflare 和 Cloudflare 到服务器的流量（服务器可使用自签名证书）。</li><li class=fade-in-up><strong class=fade-in-up>Full (Strict)</strong>：加密全链路流量（服务器需安装有效证书，推荐选择此项）。</li></ul><p class=fade-in-up><strong class=fade-in-up>选择 <code class=fade-in-up>Full</code><sup class=fade-in-up><a class=fade-in-up href=#user-content-fn-1 aria-describedby=footnote-label data-footnote-ref="" id=user-content-fnref-1>1</a></sup> 或 <code class=fade-in-up>Full (Strict)</code></strong>。</p></li><li class=fade-in-up><p class=fade-in-up>启用 <strong class=fade-in-up>Always Use HTTPS</strong>（强制所有 HTTP 请求跳转到 HTTPS）<sup class=fade-in-up><a class=fade-in-up href=#user-content-fn-5 aria-describedby=footnote-label data-footnote-ref="" id=user-content-fnref-5>2</a></sup></p></li></ol><h3 class=fade-in-up id=heading-13><strong class=fade-in-up>2. 为服务器获取 SSL 证书</strong><a class=anchor href=#heading-13 aria-label="Anchor to "> <span class=anchor-icon aria-hidden=true data-pagefind-ignore=""></span> <span class=sr-only>Link to</span></a></h3><h4 class=fade-in-up id=heading-14><strong class=fade-in-up>使用 Let’s Encrypt 免费证书（推荐）</strong><a class=anchor href=#heading-14 aria-label="Anchor to "> <span class=anchor-icon aria-hidden=true data-pagefind-ignore=""></span> <span class=sr-only>Link to</span></a></h4><p class=fade-in-up>Let’s Encrypt 提供免费的 SSL 证书，并通过 Certbot 工具自动化管理。</p><h4 class=fade-in-up id=heading-15><strong class=fade-in-up>步骤 1：安装 Certbot</strong><a class=anchor href=#heading-15 aria-label="Anchor to "> <span class=anchor-icon aria-hidden=true data-pagefind-ignore=""></span> <span class=sr-only>Link to</span></a></h4><p class=fade-in-up>在服务器上执行以下命令（以 Ubuntu/Debian 为例）：</p><figure class="fade-in-up highlight bash"><div class="fade-in-up highlight-tools"><div class="fade-in-up code-lang">BASH</div><div class="fade-in-up code-container"><label class="btn btn-ghost btn-sm copy-btn swap swap-flip" for=3de389e9-cdf5-4478-9316-d344cbb50bb9 aria-label="Copy to clipboard"><span class="fade-in-up sr-only">Copy to clipboard</span><input id=3de389e9-cdf5-4478-9316-d344cbb50bb9 type=checkbox class="fade-in-up copy-checkbox"><div class=swap-on><svg class="fade-in-up h-6 shrink-0 stroke-current w-6" viewBox="0 -0.5 25 25" xmlns=http://www.w3.org/2000/svg fill=none><path d="M5.5 12.5L10.167 17L19.5 8" stroke-linecap=round stroke-linejoin=round stroke-width=1.5 class=fade-in-up></path></svg></div><div class=swap-off><svg class="fade-in-up h-6 shrink-0 stroke-current w-6" viewBox="0 -0.5 25 25" xmlns=http://www.w3.org/2000/svg fill=none><path d="M17.676 14.248C17.676 15.8651 16.3651 17.176 14.748 17.176H7.428C5.81091 17.176 4.5 15.8651 4.5 14.248V6.928C4.5 5.31091 5.81091 4 7.428 4H14.748C16.3651 4 17.676 5.31091 17.676 6.928V14.248Z" stroke-linecap=round stroke-linejoin=round stroke-width=1.5 class=fade-in-up clip-rule=evenodd fill-rule=evenodd></path><path d="M10.252 20H17.572C19.1891 20 20.5 18.689 20.5 17.072V9.75195" stroke-linecap=round stroke-linejoin=round stroke-width=1.5 class=fade-in-up></path></svg></div></label></div></div><div class="fade-in-up highlight-code"><pre class="fade-in-up frosti-code gutter"><code class=fade-in-up><div class="fade-in-up line">1</div><div class="fade-in-up line">2</div></code></pre><pre class="fade-in-up frosti-code code"><code class=fade-in-up><span class="fade-in-up line"><span class=fade-in-up style=color:#6f42c1;--shiki-dark:#B392F0>sudo</span><span class=fade-in-up style=color:#032f62;--shiki-dark:#9ECBFF> apt</span><span class=fade-in-up style=color:#032f62;--shiki-dark:#9ECBFF> update</span></span>
<span class="fade-in-up line"><span class=fade-in-up style=color:#6f42c1;--shiki-dark:#B392F0>sudo</span><span class=fade-in-up style=color:#032f62;--shiki-dark:#9ECBFF> apt</span><span class=fade-in-up style=color:#032f62;--shiki-dark:#9ECBFF> install</span><span class=fade-in-up style=color:#032f62;--shiki-dark:#9ECBFF> certbot</span><span class=fade-in-up style=color:#032f62;--shiki-dark:#9ECBFF> python3-certbot-nginx</span></span>
<span class="fade-in-up line"></span></code></pre></div></figure><h4 class=fade-in-up id=heading-16><strong class=fade-in-up>步骤 2：获取证书</strong><a class=anchor href=#heading-16 aria-label="Anchor to "> <span class=anchor-icon aria-hidden=true data-pagefind-ignore=""></span> <span class=sr-only>Link to</span></a></h4><p class=fade-in-up>运行 Certbot 并自动配置 Nginx：</p><figure class="fade-in-up highlight bash"><div class="fade-in-up highlight-tools"><div class="fade-in-up code-lang">BASH</div><div class="fade-in-up code-container"><label class="btn btn-ghost btn-sm copy-btn swap swap-flip" for=e92882d1-1703-4b8f-b29b-0df8ea3b0060 aria-label="Copy to clipboard"><span class="fade-in-up sr-only">Copy to clipboard</span><input id=e92882d1-1703-4b8f-b29b-0df8ea3b0060 type=checkbox class="fade-in-up copy-checkbox"><div class=swap-on><svg class="fade-in-up h-6 shrink-0 stroke-current w-6" viewBox="0 -0.5 25 25" xmlns=http://www.w3.org/2000/svg fill=none><path d="M5.5 12.5L10.167 17L19.5 8" stroke-linecap=round stroke-linejoin=round stroke-width=1.5 class=fade-in-up></path></svg></div><div class=swap-off><svg class="fade-in-up h-6 shrink-0 stroke-current w-6" viewBox="0 -0.5 25 25" xmlns=http://www.w3.org/2000/svg fill=none><path d="M17.676 14.248C17.676 15.8651 16.3651 17.176 14.748 17.176H7.428C5.81091 17.176 4.5 15.8651 4.5 14.248V6.928C4.5 5.31091 5.81091 4 7.428 4H14.748C16.3651 4 17.676 5.31091 17.676 6.928V14.248Z" stroke-linecap=round stroke-linejoin=round stroke-width=1.5 class=fade-in-up clip-rule=evenodd fill-rule=evenodd></path><path d="M10.252 20H17.572C19.1891 20 20.5 18.689 20.5 17.072V9.75195" stroke-linecap=round stroke-linejoin=round stroke-width=1.5 class=fade-in-up></path></svg></div></label></div></div><div class="fade-in-up highlight-code"><pre class="fade-in-up frosti-code gutter"><code class=fade-in-up><div class="fade-in-up line">1</div></code></pre><pre class="fade-in-up frosti-code code"><code class=fade-in-up><span class="fade-in-up line"><span class=fade-in-up style=color:#6f42c1;--shiki-dark:#B392F0>sudo</span><span class=fade-in-up style=color:#032f62;--shiki-dark:#9ECBFF> certbot</span><span class=fade-in-up style=color:#005cc5;--shiki-dark:#79B8FF> --nginx</span><span class=fade-in-up style=color:#005cc5;--shiki-dark:#79B8FF> -d</span><span class=fade-in-up style=color:#032f62;--shiki-dark:#9ECBFF> example.com</span><span class=fade-in-up style=color:#005cc5;--shiki-dark:#79B8FF> -d</span><span class=fade-in-up style=color:#032f62;--shiki-dark:#9ECBFF> www.example.com</span></span>
<span class="fade-in-up line"></span></code></pre></div></figure><p class=fade-in-up>（将 <code class=fade-in-up>example.com</code> 替换为您的域名）</p><p class=fade-in-up>Certbot 会：</p><ol class=fade-in-up><li class=fade-in-up>自动验证域名所有权。</li><li class=fade-in-up>生成 SSL 证书（保存在 <code class=fade-in-up>/etc/letsencrypt/live/example.com/</code>）。</li><li class=fade-in-up>自动修改 Nginx 配置文件以启用 HTTPS。</li></ol><h4 class=fade-in-up id=heading-17><strong class=fade-in-up>步骤 3：验证证书自动续期</strong><a class=anchor href=#heading-17 aria-label="Anchor to "> <span class=anchor-icon aria-hidden=true data-pagefind-ignore=""></span> <span class=sr-only>Link to</span></a></h4><p class=fade-in-up>Let’s Encrypt 证书有效期为 90 天，Certbot 会自动续期。手动测试续期：<sup class=fade-in-up><a class=fade-in-up href=#user-content-fn-2 aria-describedby=footnote-label data-footnote-ref="" id=user-content-fnref-2>3</a></sup></p><figure class="fade-in-up highlight bash"><div class="fade-in-up highlight-tools"><div class="fade-in-up code-lang">BASH</div><div class="fade-in-up code-container"><label class="btn btn-ghost btn-sm copy-btn swap swap-flip" for=0a54fe6d-9597-4ebb-a16e-0634e042d1bf aria-label="Copy to clipboard"><span class="fade-in-up sr-only">Copy to clipboard</span><input id=0a54fe6d-9597-4ebb-a16e-0634e042d1bf type=checkbox class="fade-in-up copy-checkbox"><div class=swap-on><svg class="fade-in-up h-6 shrink-0 stroke-current w-6" viewBox="0 -0.5 25 25" xmlns=http://www.w3.org/2000/svg fill=none><path d="M5.5 12.5L10.167 17L19.5 8" stroke-linecap=round stroke-linejoin=round stroke-width=1.5 class=fade-in-up></path></svg></div><div class=swap-off><svg class="fade-in-up h-6 shrink-0 stroke-current w-6" viewBox="0 -0.5 25 25" xmlns=http://www.w3.org/2000/svg fill=none><path d="M17.676 14.248C17.676 15.8651 16.3651 17.176 14.748 17.176H7.428C5.81091 17.176 4.5 15.8651 4.5 14.248V6.928C4.5 5.31091 5.81091 4 7.428 4H14.748C16.3651 4 17.676 5.31091 17.676 6.928V14.248Z" stroke-linecap=round stroke-linejoin=round stroke-width=1.5 class=fade-in-up clip-rule=evenodd fill-rule=evenodd></path><path d="M10.252 20H17.572C19.1891 20 20.5 18.689 20.5 17.072V9.75195" stroke-linecap=round stroke-linejoin=round stroke-width=1.5 class=fade-in-up></path></svg></div></label></div></div><div class="fade-in-up highlight-code"><pre class="fade-in-up frosti-code gutter"><code class=fade-in-up><div class="fade-in-up line">1</div></code></pre><pre class="fade-in-up frosti-code code"><code class=fade-in-up><span class="fade-in-up line"><span class=fade-in-up style=color:#6f42c1;--shiki-dark:#B392F0>sudo</span><span class=fade-in-up style=color:#032f62;--shiki-dark:#9ECBFF> certbot</span><span class=fade-in-up style=color:#032f62;--shiki-dark:#9ECBFF> renew</span><span class=fade-in-up style=color:#005cc5;--shiki-dark:#79B8FF> --dry-run</span></span>
<span class="fade-in-up line"></span></code></pre></div></figure><h3 class=fade-in-up id=heading-18><strong class=fade-in-up>3. 配置 Nginx 支持 HTTPS</strong><a class=anchor href=#heading-18 aria-label="Anchor to "> <span class=anchor-icon aria-hidden=true data-pagefind-ignore=""></span> <span class=sr-only>Link to</span></a></h3><h4 class=fade-in-up id=heading-19><strong class=fade-in-up>步骤 1：检查 Nginx 配置文件</strong><a class=anchor href=#heading-19 aria-label="Anchor to "> <span class=anchor-icon aria-hidden=true data-pagefind-ignore=""></span> <span class=sr-only>Link to</span></a></h4><p class=fade-in-up>Certbot 已自动修改配置，但需手动检查。<br class=fade-in-up>打开配置文件（通常位于 <code class=fade-in-up>/etc/nginx/sites-available/default</code>）：</p><figure class="fade-in-up highlight bash"><div class="fade-in-up highlight-tools"><div class="fade-in-up code-lang">BASH</div><div class="fade-in-up code-container"><label class="btn btn-ghost btn-sm copy-btn swap swap-flip" for=1eae489a-113c-45f2-9623-470bd17aacba aria-label="Copy to clipboard"><span class="fade-in-up sr-only">Copy to clipboard</span><input id=1eae489a-113c-45f2-9623-470bd17aacba type=checkbox class="fade-in-up copy-checkbox"><div class=swap-on><svg class="fade-in-up h-6 shrink-0 stroke-current w-6" viewBox="0 -0.5 25 25" xmlns=http://www.w3.org/2000/svg fill=none><path d="M5.5 12.5L10.167 17L19.5 8" stroke-linecap=round stroke-linejoin=round stroke-width=1.5 class=fade-in-up></path></svg></div><div class=swap-off><svg class="fade-in-up h-6 shrink-0 stroke-current w-6" viewBox="0 -0.5 25 25" xmlns=http://www.w3.org/2000/svg fill=none><path d="M17.676 14.248C17.676 15.8651 16.3651 17.176 14.748 17.176H7.428C5.81091 17.176 4.5 15.8651 4.5 14.248V6.928C4.5 5.31091 5.81091 4 7.428 4H14.748C16.3651 4 17.676 5.31091 17.676 6.928V14.248Z" stroke-linecap=round stroke-linejoin=round stroke-width=1.5 class=fade-in-up clip-rule=evenodd fill-rule=evenodd></path><path d="M10.252 20H17.572C19.1891 20 20.5 18.689 20.5 17.072V9.75195" stroke-linecap=round stroke-linejoin=round stroke-width=1.5 class=fade-in-up></path></svg></div></label></div></div><div class="fade-in-up highlight-code"><pre class="fade-in-up frosti-code gutter"><code class=fade-in-up><div class="fade-in-up line">1</div></code></pre><pre class="fade-in-up frosti-code code"><code class=fade-in-up><span class="fade-in-up line"><span class=fade-in-up style=color:#6f42c1;--shiki-dark:#B392F0>sudo</span><span class=fade-in-up style=color:#032f62;--shiki-dark:#9ECBFF> nano</span><span class=fade-in-up style=color:#032f62;--shiki-dark:#9ECBFF> /etc/nginx/sites-available/default</span></span>
<span class="fade-in-up line"></span></code></pre></div></figure><h4 class=fade-in-up id=heading-20><strong class=fade-in-up>步骤 2：确保 HTTPS 配置正确</strong><a class=anchor href=#heading-20 aria-label="Anchor to "> <span class=anchor-icon aria-hidden=true data-pagefind-ignore=""></span> <span class=sr-only>Link to</span></a></h4><p class=fade-in-up>配置文件应包含类似以下内容：</p><figure class="fade-in-up highlight nginx"><div class="fade-in-up highlight-tools"><div class="fade-in-up code-lang">NGINX</div><div class="fade-in-up code-container"><label class="btn btn-ghost btn-sm copy-btn swap swap-flip" for=42f43cf6-e0a8-46f6-ae0f-fe9b63bed2b2 aria-label="Copy to clipboard"><span class="fade-in-up sr-only">Copy to clipboard</span><input id=42f43cf6-e0a8-46f6-ae0f-fe9b63bed2b2 type=checkbox class="fade-in-up copy-checkbox"><div class=swap-on><svg class="fade-in-up h-6 shrink-0 stroke-current w-6" viewBox="0 -0.5 25 25" xmlns=http://www.w3.org/2000/svg fill=none><path d="M5.5 12.5L10.167 17L19.5 8" stroke-linecap=round stroke-linejoin=round stroke-width=1.5 class=fade-in-up></path></svg></div><div class=swap-off><svg class="fade-in-up h-6 shrink-0 stroke-current w-6" viewBox="0 -0.5 25 25" xmlns=http://www.w3.org/2000/svg fill=none><path d="M17.676 14.248C17.676 15.8651 16.3651 17.176 14.748 17.176H7.428C5.81091 17.176 4.5 15.8651 4.5 14.248V6.928C4.5 5.31091 5.81091 4 7.428 4H14.748C16.3651 4 17.676 5.31091 17.676 6.928V14.248Z" stroke-linecap=round stroke-linejoin=round stroke-width=1.5 class=fade-in-up clip-rule=evenodd fill-rule=evenodd></path><path d="M10.252 20H17.572C19.1891 20 20.5 18.689 20.5 17.072V9.75195" stroke-linecap=round stroke-linejoin=round stroke-width=1.5 class=fade-in-up></path></svg></div></label></div></div><div class="fade-in-up highlight-code"><pre class="fade-in-up frosti-code gutter"><code class=fade-in-up><div class="fade-in-up line">1</div><div class="fade-in-up line">2</div><div class="fade-in-up line">3</div><div class="fade-in-up line">4</div><div class="fade-in-up line">5</div><div class="fade-in-up line">6</div><div class="fade-in-up line">7</div><div class="fade-in-up line">8</div><div class="fade-in-up line">9</div><div class="fade-in-up line">10</div><div class="fade-in-up line">11</div><div class="fade-in-up line">12</div><div class="fade-in-up line">13</div><div class="fade-in-up line">14</div><div class="fade-in-up line">15</div><div class="fade-in-up line">16</div><div class="fade-in-up line">17</div><div class="fade-in-up line">18</div><div class="fade-in-up line">19</div><div class="fade-in-up line">20</div></code></pre><pre class="fade-in-up frosti-code code"><code class=fade-in-up><span class="fade-in-up line"><span class=fade-in-up style=color:#d73a49;--shiki-dark:#F97583>server</span><span class=fade-in-up style=color:#24292e;--shiki-dark:#E1E4E8> {</span></span>
<span class="fade-in-up line"><span class=fade-in-up style=color:#d73a49;--shiki-dark:#F97583>    listen </span><span class=fade-in-up style=color:#005cc5;--shiki-dark:#79B8FF>80</span><span class=fade-in-up style=color:#24292e;--shiki-dark:#E1E4E8>;</span></span>
<span class="fade-in-up line"><span class=fade-in-up style=color:#d73a49;--shiki-dark:#F97583>    server_name </span><span class=fade-in-up style=color:#24292e;--shiki-dark:#E1E4E8>example.com www.example.com;</span></span>
<span class="fade-in-up line"><span class=fade-in-up style=color:#d73a49;--shiki-dark:#F97583>    return</span><span class=fade-in-up style=color:#005cc5;--shiki-dark:#79B8FF> 301</span><span class=fade-in-up style=color:#24292e;--shiki-dark:#E1E4E8> https://$host$request_uri;  </span><span class=fade-in-up style=color:#6a737d;--shiki-dark:#6A737D># 强制跳转到 HTTPS</span></span>
<span class="fade-in-up line"><span class=fade-in-up style=color:#24292e;--shiki-dark:#E1E4E8>}</span></span>
<span class="fade-in-up line"></span>
<span class="fade-in-up line"><span class=fade-in-up style=color:#d73a49;--shiki-dark:#F97583>server</span><span class=fade-in-up style=color:#24292e;--shiki-dark:#E1E4E8> {</span></span>
<span class="fade-in-up line"><span class=fade-in-up style=color:#d73a49;--shiki-dark:#F97583>    listen </span><span class=fade-in-up style=color:#005cc5;--shiki-dark:#79B8FF>443</span><span class=fade-in-up style=color:#24292e;--shiki-dark:#E1E4E8> ssl;</span></span>
<span class="fade-in-up line"><span class=fade-in-up style=color:#d73a49;--shiki-dark:#F97583>    server_name </span><span class=fade-in-up style=color:#24292e;--shiki-dark:#E1E4E8>example.com www.example.com;</span></span>
<span class="fade-in-up line"></span>
<span class="fade-in-up line"><span class=fade-in-up style=color:#d73a49;--shiki-dark:#F97583>    ssl_certificate </span><span class=fade-in-up style=color:#24292e;--shiki-dark:#E1E4E8>/etc/letsencrypt/live/example.com/fullchain.pem;</span></span>
<span class="fade-in-up line"><span class=fade-in-up style=color:#d73a49;--shiki-dark:#F97583>    ssl_certificate_key </span><span class=fade-in-up style=color:#24292e;--shiki-dark:#E1E4E8>/etc/letsencrypt/live/example.com/privkey.pem;</span></span>
<span class="fade-in-up line"></span>
<span class="fade-in-up line"><span class=fade-in-up style=color:#d73a49;--shiki-dark:#F97583>    root </span><span class=fade-in-up style=color:#24292e;--shiki-dark:#E1E4E8>/var/www/html;</span></span>
<span class="fade-in-up line"><span class=fade-in-up style=color:#d73a49;--shiki-dark:#F97583>    index </span><span class=fade-in-up style=color:#24292e;--shiki-dark:#E1E4E8>index.html index.htm;</span></span>
<span class="fade-in-up line"></span>
<span class="fade-in-up line"><span class=fade-in-up style=color:#d73a49;--shiki-dark:#F97583>    location</span><span class=fade-in-up style=color:#6f42c1;--shiki-dark:#B392F0> / </span><span class=fade-in-up style=color:#24292e;--shiki-dark:#E1E4E8>{</span></span>
<span class="fade-in-up line"><span class=fade-in-up style=color:#d73a49;--shiki-dark:#F97583>        try_files </span><span class=fade-in-up style=color:#24292e;--shiki-dark:#E1E4E8>$uri $uri/ </span><span class=fade-in-up style=color:#005cc5;--shiki-dark:#79B8FF>=404</span><span class=fade-in-up style=color:#24292e;--shiki-dark:#E1E4E8>;</span></span>
<span class="fade-in-up line"><span class=fade-in-up style=color:#24292e;--shiki-dark:#E1E4E8>    }</span></span>
<span class="fade-in-up line"><span class=fade-in-up style=color:#24292e;--shiki-dark:#E1E4E8>}</span></span>
<span class="fade-in-up line"></span></code></pre></div></figure><h4 class=fade-in-up id=heading-21><strong class=fade-in-up>步骤 3：测试并重启 Nginx</strong><a class=anchor href=#heading-21 aria-label="Anchor to "> <span class=anchor-icon aria-hidden=true data-pagefind-ignore=""></span> <span class=sr-only>Link to</span></a></h4><figure class="fade-in-up highlight bash"><div class="fade-in-up highlight-tools"><div class="fade-in-up code-lang">BASH</div><div class="fade-in-up code-container"><label class="btn btn-ghost btn-sm copy-btn swap swap-flip" for=2b730aca-22b1-465f-9698-97293f77ba04 aria-label="Copy to clipboard"><span class="fade-in-up sr-only">Copy to clipboard</span><input id=2b730aca-22b1-465f-9698-97293f77ba04 type=checkbox class="fade-in-up copy-checkbox"><div class=swap-on><svg class="fade-in-up h-6 shrink-0 stroke-current w-6" viewBox="0 -0.5 25 25" xmlns=http://www.w3.org/2000/svg fill=none><path d="M5.5 12.5L10.167 17L19.5 8" stroke-linecap=round stroke-linejoin=round stroke-width=1.5 class=fade-in-up></path></svg></div><div class=swap-off><svg class="fade-in-up h-6 shrink-0 stroke-current w-6" viewBox="0 -0.5 25 25" xmlns=http://www.w3.org/2000/svg fill=none><path d="M17.676 14.248C17.676 15.8651 16.3651 17.176 14.748 17.176H7.428C5.81091 17.176 4.5 15.8651 4.5 14.248V6.928C4.5 5.31091 5.81091 4 7.428 4H14.748C16.3651 4 17.676 5.31091 17.676 6.928V14.248Z" stroke-linecap=round stroke-linejoin=round stroke-width=1.5 class=fade-in-up clip-rule=evenodd fill-rule=evenodd></path><path d="M10.252 20H17.572C19.1891 20 20.5 18.689 20.5 17.072V9.75195" stroke-linecap=round stroke-linejoin=round stroke-width=1.5 class=fade-in-up></path></svg></div></label></div></div><div class="fade-in-up highlight-code"><pre class="fade-in-up frosti-code gutter"><code class=fade-in-up><div class="fade-in-up line">1</div><div class="fade-in-up line">2</div></code></pre><pre class="fade-in-up frosti-code code"><code class=fade-in-up><span class="fade-in-up line"><span class=fade-in-up style=color:#6f42c1;--shiki-dark:#B392F0>sudo</span><span class=fade-in-up style=color:#032f62;--shiki-dark:#9ECBFF> nginx</span><span class=fade-in-up style=color:#005cc5;--shiki-dark:#79B8FF> -t</span><span class=fade-in-up style=color:#6a737d;--shiki-dark:#6A737D>          # 检查配置语法</span></span>
<span class="fade-in-up line"><span class=fade-in-up style=color:#6f42c1;--shiki-dark:#B392F0>sudo</span><span class=fade-in-up style=color:#032f62;--shiki-dark:#9ECBFF> systemctl</span><span class=fade-in-up style=color:#032f62;--shiki-dark:#9ECBFF> restart</span><span class=fade-in-up style=color:#032f62;--shiki-dark:#9ECBFF> nginx</span><span class=fade-in-up style=color:#6a737d;--shiki-dark:#6A737D>  # 重启 Nginx</span></span>
<span class="fade-in-up line"></span></code></pre></div></figure><hr class=fade-in-up><h3 class=fade-in-up id=heading-22><strong class=fade-in-up>4. 配置 Cloudflare 的 SSL 证书源</strong><a class=anchor href=#heading-22 aria-label="Anchor to "> <span class=anchor-icon aria-hidden=true data-pagefind-ignore=""></span> <span class=sr-only>Link to</span></a></h3><p class=fade-in-up>如果选择 <strong class=fade-in-up>Full (Strict) 模式</strong>，需确保 Cloudflare 信任服务器证书。</p><h4 class=fade-in-up id=heading-23><strong class=fade-in-up>步骤 1：在 Cloudflare 上传原始证书（可选）</strong><sup class=fade-in-up><a class=fade-in-up href=#user-content-fn-3 aria-describedby=footnote-label data-footnote-ref="" id=user-content-fnref-3>4</a></sup><a class=anchor href=#heading-23 aria-label="Anchor to  "> <span class=anchor-icon aria-hidden=true data-pagefind-ignore=""></span> <span class=sr-only>Link to</span></a></h4><ol class=fade-in-up><li class=fade-in-up>进入 <strong class=fade-in-up>SSL/TLS</strong> → <strong class=fade-in-up>Origin Server</strong> → <strong class=fade-in-up>Create Certificate</strong>。</li><li class=fade-in-up>生成并下载证书（包含 <code class=fade-in-up>.pem</code> 文件）。</li><li class=fade-in-up>将证书上传到服务器，并更新 Nginx 配置：<figure class="fade-in-up highlight nginx"><div class="fade-in-up highlight-tools"><div class="fade-in-up code-lang">NGINX</div><div class="fade-in-up code-container"><label class="btn btn-ghost btn-sm copy-btn swap swap-flip" for=248ea2f6-6c99-4e00-b028-4b7ce6114243 aria-label="Copy to clipboard"><span class="fade-in-up sr-only">Copy to clipboard</span><input id=248ea2f6-6c99-4e00-b028-4b7ce6114243 type=checkbox class="fade-in-up copy-checkbox"><div class=swap-on><svg class="fade-in-up h-6 shrink-0 stroke-current w-6" viewBox="0 -0.5 25 25" xmlns=http://www.w3.org/2000/svg fill=none><path d="M5.5 12.5L10.167 17L19.5 8" stroke-linecap=round stroke-linejoin=round stroke-width=1.5 class=fade-in-up></path></svg></div><div class=swap-off><svg class="fade-in-up h-6 shrink-0 stroke-current w-6" viewBox="0 -0.5 25 25" xmlns=http://www.w3.org/2000/svg fill=none><path d="M17.676 14.248C17.676 15.8651 16.3651 17.176 14.748 17.176H7.428C5.81091 17.176 4.5 15.8651 4.5 14.248V6.928C4.5 5.31091 5.81091 4 7.428 4H14.748C16.3651 4 17.676 5.31091 17.676 6.928V14.248Z" stroke-linecap=round stroke-linejoin=round stroke-width=1.5 class=fade-in-up clip-rule=evenodd fill-rule=evenodd></path><path d="M10.252 20H17.572C19.1891 20 20.5 18.689 20.5 17.072V9.75195" stroke-linecap=round stroke-linejoin=round stroke-width=1.5 class=fade-in-up></path></svg></div></label></div></div><div class="fade-in-up highlight-code"><pre class="fade-in-up frosti-code gutter"><code class=fade-in-up><div class="fade-in-up line">1</div><div class="fade-in-up line">2</div></code></pre><pre class="fade-in-up frosti-code code"><code class=fade-in-up><span class="fade-in-up line"><span class=fade-in-up style=color:#d73a49;--shiki-dark:#F97583>ssl_certificate </span><span class=fade-in-up style=color:#24292e;--shiki-dark:#E1E4E8>/path/to/cloudflare-origin.crt;</span></span>
<span class="fade-in-up line"><span class=fade-in-up style=color:#d73a49;--shiki-dark:#F97583>ssl_certificate_key </span><span class=fade-in-up style=color:#24292e;--shiki-dark:#E1E4E8>/path/to/cloudflare-origin.key;</span></span>
<span class="fade-in-up line"></span></code></pre></div></figure></li></ol><h3 class=fade-in-up id=heading-24><strong class=fade-in-up>5. 验证 HTTPS 是否生效</strong><a class=anchor href=#heading-24 aria-label="Anchor to "> <span class=anchor-icon aria-hidden=true data-pagefind-ignore=""></span> <span class=sr-only>Link to</span></a></h3><ol class=fade-in-up><li class=fade-in-up>在浏览器中访问 <code class=fade-in-up>https://example.com</code>，检查是否显示 <strong class=fade-in-up>安全锁标志</strong>。</li><li class=fade-in-up>使用 <a class=fade-in-up href=https://www.ssllabs.com/ssltest/ rel=nofollow>SSL Labs 测试工具<span><svg viewBox="0 0 24 24" xmlns=http://www.w3.org/2000/svg fill=none height=1em width=1em><g id=SVGRepo_bgCarrier stroke-width=0></g><g id=SVGRepo_tracerCarrier stroke-linecap=round stroke-linejoin=round></g><g id=SVGRepo_iconCarrier><g id=SVGRepo_iconCarrier><path d="M10.0002 5H8.2002C7.08009 5 6.51962 5 6.0918 5.21799C5.71547 5.40973 5.40973 5.71547 5.21799 6.0918C5 6.51962 5 7.08009 5 8.2002V15.8002C5 16.9203 5 17.4801 5.21799 17.9079C5.40973 18.2842 5.71547 18.5905 6.0918 18.7822C6.5192 19 7.07899 19 8.19691 19H15.8031C16.921 19 17.48 19 17.9074 18.7822C18.2837 18.5905 18.5905 18.2839 18.7822 17.9076C19 17.4802 19 16.921 19 15.8031V14M20 9V4M20 4H15M20 4L13 11" stroke-linecap=round stroke-linejoin=round stroke-width=2 stroke=#888></path></g></g></svg></span></a>检查 SSL 配置评分（目标为 A 或 A+）。<sup class=fade-in-up><a class=fade-in-up href=#user-content-fn-4 aria-describedby=footnote-label data-footnote-ref="" id=user-content-fnref-4>5</a></sup></li></ol><h3 class=fade-in-up id=heading-25><strong class=fade-in-up>6. 常见问题解决</strong><a class=anchor href=#heading-25 aria-label="Anchor to "> <span class=anchor-icon aria-hidden=true data-pagefind-ignore=""></span> <span class=sr-only>Link to</span></a></h3><h4 class=fade-in-up id=heading-26><strong class=fade-in-up>问题 1：浏览器提示“不安全”</strong><a class=anchor href=#heading-26 aria-label="Anchor to "> <span class=anchor-icon aria-hidden=true data-pagefind-ignore=""></span> <span class=sr-only>Link to</span></a></h4><ul class=fade-in-up><li class=fade-in-up><strong class=fade-in-up>原因</strong>：网站中存在混合内容（HTTP 资源）。</li><li class=fade-in-up><strong class=fade-in-up>解决</strong>：<ol class=fade-in-up><li class=fade-in-up>确保所有资源（图片、CSS、JS）使用 HTTPS 链接。</li><li class=fade-in-up>在 Cloudflare 启用 <strong class=fade-in-up>Automatic HTTPS Rewrites</strong>（SSL/TLS → Edge Certificates）。</li></ol></li></ul><h4 class=fade-in-up id=heading-27><strong class=fade-in-up>问题 2：Nginx 启动失败</strong><sup class=fade-in-up><a class=fade-in-up href=#user-content-fn-6 aria-describedby=footnote-label data-footnote-ref="" id=user-content-fnref-6>6</a></sup><a class=anchor href=#heading-27 aria-label="Anchor to  "> <span class=anchor-icon aria-hidden=true data-pagefind-ignore=""></span> <span class=sr-only>Link to</span></a></h4><ul class=fade-in-up><li class=fade-in-up><strong class=fade-in-up>原因</strong>：配置文件语法错误或端口冲突。</li><li class=fade-in-up><strong class=fade-in-up>解决</strong>：<figure class="fade-in-up highlight bash"><div class="fade-in-up highlight-tools"><div class="fade-in-up code-lang">BASH</div><div class="fade-in-up code-container"><label class="btn btn-ghost btn-sm copy-btn swap swap-flip" for=c11d808d-3e58-4c3b-af1c-3ac91b1a0ef4 aria-label="Copy to clipboard"><span class="fade-in-up sr-only">Copy to clipboard</span><input id=c11d808d-3e58-4c3b-af1c-3ac91b1a0ef4 type=checkbox class="fade-in-up copy-checkbox"><div class=swap-on><svg class="fade-in-up h-6 shrink-0 stroke-current w-6" viewBox="0 -0.5 25 25" xmlns=http://www.w3.org/2000/svg fill=none><path d="M5.5 12.5L10.167 17L19.5 8" stroke-linecap=round stroke-linejoin=round stroke-width=1.5 class=fade-in-up></path></svg></div><div class=swap-off><svg class="fade-in-up h-6 shrink-0 stroke-current w-6" viewBox="0 -0.5 25 25" xmlns=http://www.w3.org/2000/svg fill=none><path d="M17.676 14.248C17.676 15.8651 16.3651 17.176 14.748 17.176H7.428C5.81091 17.176 4.5 15.8651 4.5 14.248V6.928C4.5 5.31091 5.81091 4 7.428 4H14.748C16.3651 4 17.676 5.31091 17.676 6.928V14.248Z" stroke-linecap=round stroke-linejoin=round stroke-width=1.5 class=fade-in-up clip-rule=evenodd fill-rule=evenodd></path><path d="M10.252 20H17.572C19.1891 20 20.5 18.689 20.5 17.072V9.75195" stroke-linecap=round stroke-linejoin=round stroke-width=1.5 class=fade-in-up></path></svg></div></label></div></div><div class="fade-in-up highlight-code"><pre class="fade-in-up frosti-code gutter"><code class=fade-in-up><div class="fade-in-up line">1</div><div class="fade-in-up line">2</div></code></pre><pre class="fade-in-up frosti-code code"><code class=fade-in-up><span class="fade-in-up line"><span class=fade-in-up style=color:#6f42c1;--shiki-dark:#B392F0>sudo</span><span class=fade-in-up style=color:#032f62;--shiki-dark:#9ECBFF> nginx</span><span class=fade-in-up style=color:#005cc5;--shiki-dark:#79B8FF> -t</span><span class=fade-in-up style=color:#6a737d;--shiki-dark:#6A737D>  # 检查错误日志</span></span>
<span class="fade-in-up line"><span class=fade-in-up style=color:#6f42c1;--shiki-dark:#B392F0>sudo</span><span class=fade-in-up style=color:#032f62;--shiki-dark:#9ECBFF> systemctl</span><span class=fade-in-up style=color:#032f62;--shiki-dark:#9ECBFF> status</span><span class=fade-in-up style=color:#032f62;--shiki-dark:#9ECBFF> nginx</span></span>
<span class="fade-in-up line"></span></code></pre></div></figure></li></ul><h4 class=fade-in-up id=heading-28><strong class=fade-in-up>问题 3：证书续期失败</strong><a class=anchor href=#heading-28 aria-label="Anchor to "> <span class=anchor-icon aria-hidden=true data-pagefind-ignore=""></span> <span class=sr-only>Link to</span></a></h4><ul class=fade-in-up><li class=fade-in-up><strong class=fade-in-up>原因</strong>：Certbot 无法自动续期。</li><li class=fade-in-up><strong class=fade-in-up>解决</strong>：<figure class="fade-in-up highlight bash"><div class="fade-in-up highlight-tools"><div class="fade-in-up code-lang">BASH</div><div class="fade-in-up code-container"><label class="btn btn-ghost btn-sm copy-btn swap swap-flip" for=855b8285-6f6c-4304-b837-d3c8aa11d25a aria-label="Copy to clipboard"><span class="fade-in-up sr-only">Copy to clipboard</span><input id=855b8285-6f6c-4304-b837-d3c8aa11d25a type=checkbox class="fade-in-up copy-checkbox"><div class=swap-on><svg class="fade-in-up h-6 shrink-0 stroke-current w-6" viewBox="0 -0.5 25 25" xmlns=http://www.w3.org/2000/svg fill=none><path d="M5.5 12.5L10.167 17L19.5 8" stroke-linecap=round stroke-linejoin=round stroke-width=1.5 class=fade-in-up></path></svg></div><div class=swap-off><svg class="fade-in-up h-6 shrink-0 stroke-current w-6" viewBox="0 -0.5 25 25" xmlns=http://www.w3.org/2000/svg fill=none><path d="M17.676 14.248C17.676 15.8651 16.3651 17.176 14.748 17.176H7.428C5.81091 17.176 4.5 15.8651 4.5 14.248V6.928C4.5 5.31091 5.81091 4 7.428 4H14.748C16.3651 4 17.676 5.31091 17.676 6.928V14.248Z" stroke-linecap=round stroke-linejoin=round stroke-width=1.5 class=fade-in-up clip-rule=evenodd fill-rule=evenodd></path><path d="M10.252 20H17.572C19.1891 20 20.5 18.689 20.5 17.072V9.75195" stroke-linecap=round stroke-linejoin=round stroke-width=1.5 class=fade-in-up></path></svg></div></label></div></div><div class="fade-in-up highlight-code"><pre class="fade-in-up frosti-code gutter"><code class=fade-in-up><div class="fade-in-up line">1</div></code></pre><pre class="fade-in-up frosti-code code"><code class=fade-in-up><span class="fade-in-up line"><span class=fade-in-up style=color:#6f42c1;--shiki-dark:#B392F0>sudo</span><span class=fade-in-up style=color:#032f62;--shiki-dark:#9ECBFF> certbot</span><span class=fade-in-up style=color:#032f62;--shiki-dark:#9ECBFF> renew</span><span class=fade-in-up style=color:#005cc5;--shiki-dark:#79B8FF> --force-renewal</span><span class=fade-in-up style=color:#6a737d;--shiki-dark:#6A737D>  # 手动强制续期</span></span>
<span class="fade-in-up line"></span></code></pre></div></figure></li></ul><h3 class=fade-in-up id=heading-29><strong class=fade-in-up>总结</strong><a class=anchor href=#heading-29 aria-label="Anchor to "> <span class=anchor-icon aria-hidden=true data-pagefind-ignore=""></span> <span class=sr-only>Link to</span></a></h3><ol class=fade-in-up><li class=fade-in-up>在 Cloudflare 启用 <strong class=fade-in-up>Full (Strict) SSL</strong> 并强制 HTTPS。</li><li class=fade-in-up>使用 Certbot 自动获取并安装 Let’s Encrypt 证书。</li><li class=fade-in-up>配置 Nginx 支持 HTTPS 并重启服务。</li><li class=fade-in-up>验证 HTTPS 生效并解决常见问题。</li></ol><p class=fade-in-up>完成以上步骤后，您的网站将通过 HTTPS 安全访问，数据全程加密，用户信任度和 SEO 排名也会提升。如果有具体问题，请随时告诉我！ 😊</p><hr class=fade-in-up><blockquote class=fade-in-up><p class=fade-in-up>注意此时waline.example.com采用HTTPS,但docker配置依然使用<a class=fade-in-up href=http://172.17.0.1:8360 rel=nofollow>http://172.17.0.1:8360<span><svg viewBox="0 0 24 24" xmlns=http://www.w3.org/2000/svg fill=none height=1em width=1em><g id=SVGRepo_bgCarrier stroke-width=0></g><g id=SVGRepo_tracerCarrier stroke-linecap=round stroke-linejoin=round></g><g id=SVGRepo_iconCarrier><g id=SVGRepo_iconCarrier><path d="M10.0002 5H8.2002C7.08009 5 6.51962 5 6.0918 5.21799C5.71547 5.40973 5.40973 5.71547 5.21799 6.0918C5 6.51962 5 7.08009 5 8.2002V15.8002C5 16.9203 5 17.4801 5.21799 17.9079C5.40973 18.2842 5.71547 18.5905 6.0918 18.7822C6.5192 19 7.07899 19 8.19691 19H15.8031C16.921 19 17.48 19 17.9074 18.7822C18.2837 18.5905 18.5905 18.2839 18.7822 17.9076C19 17.4802 19 16.921 19 15.8031V14M20 9V4M20 4H15M20 4L13 11" stroke-linecap=round stroke-linejoin=round stroke-width=2 stroke=#888></path></g></g></svg></span></a>,TLS加密是存在于客户端(浏览器)和网站服务器之间的.</p></blockquote><blockquote class=fade-in-up><p class=fade-in-up>如果Nginx与Waline交互过程中出现莫名其妙的错误,可查看/var/log/nginx/error.log文件,说不定能快速定位原因.</p></blockquote><h1 class=fade-in-up id=heading-30>总结<a class=anchor href=#heading-30 aria-label="Anchor to 总结"> <span class=anchor-icon aria-hidden=true data-pagefind-ignore=""></span> <span class=sr-only>Link to 总结</span></a></h1><p class=fade-in-up>至此,我们的网站终于大功告成了!🤩</p><p class=fade-in-up>但是搜索引擎(Google和百度等)的爬虫目前还没有找到我们的网站.可以向搜索引擎反馈,加快这一过程.</p><blockquote class=fade-in-up><p class=fade-in-up>自由,开放,是互联网的精神.希望每个人都能在互联网上展示自信多彩的自己!</p></blockquote><section class="fade-in-up footnotes" data-footnotes=""><h2 class="fade-in-up sr-only" id=footnote-label>Footnotes</h2><ol class=fade-in-up><li class=fade-in-up id=user-content-fn-1><p class=fade-in-up>我选的是Full <a class="fade-in-up data-footnote-backref" href=#user-content-fnref-1 aria-label="Back to reference 1" data-footnote-backref="">↩</a></p></li><li class=fade-in-up id=user-content-fn-5><p class=fade-in-up>Certbot🤖在Nginx中自动处理,所以我未设置 <a class="fade-in-up data-footnote-backref" href=#user-content-fnref-5 aria-label="Back to reference 2" data-footnote-backref="">↩</a></p></li><li class=fade-in-up id=user-content-fn-2><p class=fade-in-up>我手动测试续期失败了…但是最后有解决方法,手动强制续期 <a class="fade-in-up data-footnote-backref" href=#user-content-fnref-2 aria-label="Back to reference 3" data-footnote-backref="">↩</a></p></li><li class=fade-in-up id=user-content-fn-3><p class=fade-in-up>我没做这一步 <a class="fade-in-up data-footnote-backref" href=#user-content-fnref-3 aria-label="Back to reference 4" data-footnote-backref="">↩</a></p></li><li class=fade-in-up id=user-content-fn-4><p class=fade-in-up>结果为B😅 <a class="fade-in-up data-footnote-backref" href=#user-content-fnref-4 aria-label="Back to reference 5" data-footnote-backref="">↩</a></p></li><li class=fade-in-up id=user-content-fn-6><p class=fade-in-up>我的Shadowsocks🚀服务端一开始占用了443端口,产生了启动失败的现象 <a class="fade-in-up data-footnote-backref" href=#user-content-fnref-6 aria-label="Back to reference 6" data-footnote-backref="">↩</a></p></li></ol></section><div class="p-0 container" data-astro-cid-zghd3z2v><div class="text-sm italic mb-2 text-base-content/60 text-right" data-astro-cid-zghd3z2v><svg class="h-4 w-4 align-text-bottom inline-block text-error" height=1em width=1em data-icon=ri:heart-line data-astro-cid-zghd3z2v><symbol id=ai:ri:heart-line viewBox="0 0 24 24"><path d="M12.001 4.529a6 6 0 0 1 8.242.228a6 6 0 0 1 .236 8.236l-8.48 8.492l-8.478-8.492a6 6 0 0 1 8.48-8.464m6.826 1.641a4 4 0 0 0-5.49-.153l-1.335 1.198l-1.336-1.197a4 4 0 0 0-5.686 5.605L12 18.654l7.02-7.03a4 4 0 0 0-.193-5.454" fill=currentColor /></symbol><use href=#ai:ri:heart-line></use></svg> Thanks for reading!</div><div class="card bg-base-200 mt-8 overflow-visible shadow-xl" data-astro-cid-zghd3z2v><div class="relative p-4 card-body lg:p-8 sm:p-6" data-astro-cid-zghd3z2v><div class="-top-8 absolute left-8" data-astro-cid-zghd3z2v><div class="items-center flex bg-primary h-16 justify-center rounded-full shadow-lg w-16" data-astro-cid-zghd3z2v><svg class="h-10 w-10 text-primary-content" height=1em width=1em data-icon=ri:creative-commons-line data-astro-cid-zghd3z2v><symbol id=ai:ri:creative-commons-line viewBox="0 0 24 24"><path d="M9 8c1.104 0 2.105.448 2.829 1.173l-1.414 1.413a2 2 0 1 0 0 2.828l1.413 1.414A4.001 4.001 0 0 1 5 12c0-2.208 1.792-4 4-4m9.829 1.173A4.001 4.001 0 0 0 12 12a4.001 4.001 0 0 0 6.828 2.828l-1.414-1.414a2 2 0 1 1 0-2.828zM2 12C2 6.477 6.477 2 12 2s10 4.477 10 10s-4.477 10-10 10S2 17.523 2 12m10-8a8 8 0 1 0 0 16a8 8 0 0 0 0-16" fill=currentColor /></symbol><use href=#ai:ri:creative-commons-line></use></svg></div></div><div class=space-y-4 data-astro-cid-zghd3z2v><h3 class="text-lg sm:text-xl card-title lg:text-2xl" data-astro-cid-zghd3z2v>Frosti+Nginx+Waline建站全过程</h3><div class="flex gap-2 flex-wrap opacity-75 sm:gap-4 sm:text-sm text-xs" data-astro-cid-zghd3z2v><span class="items-center flex gap-1" data-astro-cid-zghd3z2v><svg class="h-4 w-4" height=1em width=1em data-icon=ri:calendar-line data-astro-cid-zghd3z2v><symbol id=ai:ri:calendar-line viewBox="0 0 24 24"><path d="M9 1v2h6V1h2v2h4a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h4V1zm11 10H4v8h16zM7 5H4v4h16V5h-3v2h-2V5H9v2H7z" fill=currentColor /></symbol><use href=#ai:ri:calendar-line></use></svg> Wed Mar 26 2025</span><div class="items-center flex gap-1" data-astro-cid-zghd3z2v><svg class="h-4 w-4" height=1em width=1em data-icon=ri:book-open-line data-astro-cid-zghd3z2v><symbol id=ai:ri:book-open-line viewBox="0 0 24 24"><path d="M13 21v2h-2v-2H3a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h6a4 4 0 0 1 3 1.354A4 4 0 0 1 15 3h6a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1zm7-2V5h-5a2 2 0 0 0-2 2v12zm-9 0V7a2 2 0 0 0-2-2H4v14z" fill=currentColor /></symbol><use href=#ai:ri:book-open-line></use></svg> <span data-astro-cid-zghd3z2v>3279 words · 19 minutes</span></div><a class="items-center flex gap-1 hover:text-primary transition-colors" href=https://www.tankimzeg.top/blog/frosti-nginx-waline-build-website/ data-astro-cid-zghd3z2v><svg class="h-4 w-4" height=1em width=1em data-icon=ri:links-line data-astro-cid-zghd3z2v><symbol id=ai:ri:links-line viewBox="0 0 24 24"><path d="m13.06 8.111l1.415 1.414a7 7 0 0 1 0 9.9l-.354.353a7 7 0 1 1-9.9-9.9l1.415 1.415a5 5 0 1 0 7.071 7.071l.354-.354a5 5 0 0 0 0-7.07l-1.415-1.415zm6.718 6.01l-1.414-1.414a5 5 0 0 0-7.071-7.07l-.354.353a5 5 0 0 0 0 7.07l1.415 1.415l-1.415 1.414l-1.414-1.414a7 7 0 0 1 0-9.9l.354-.353a7 7 0 1 1 9.9 9.9" fill=currentColor /></symbol><use href=#ai:ri:links-line></use></svg></a></div><div class=mt-4 data-astro-cid-zghd3z2v><div class="items-center flex gap-2 flex-wrap" data-astro-cid-zghd3z2v><a class="btn btn-xs btn-category" href=/blog/categories/tech data-astro-cid-zghd3z2v>tech </a><a class="btn btn-xs btn-tag" href=/blog/tags/network data-astro-cid-zghd3z2v>network</a></div><p class="text-sm border-t opacity-75 pt-4" data-astro-cid-zghd3z2v>© Tan Kimzeg | <a class="hover:text-primary transition-colors" href=https://creativecommons.org/licenses/by-sa/4.0/deed target=_blank data-astro-cid-zghd3z2v rel="noopener noreferrer">CC BY-SA 4.0</a></p></div><div class="mt-4 card-actions justify-end" data-astro-cid-zghd3z2v><button class="btn btn-outline btn-primary" data-astro-cid-zghd3z2v onclick=share_modal.showModal()>Share <svg class="h-5 w-5" height=1em width=1em data-icon=ri:share-line data-astro-cid-zghd3z2v><symbol id=ai:ri:share-line viewBox="0 0 24 24"><path d="m13.12 17.023l-4.199-2.29a4 4 0 1 1 0-5.465l4.2-2.29a4 4 0 1 1 .958 1.755l-4.2 2.29a4 4 0 0 1 0 1.954l4.2 2.29a4 4 0 1 1-.959 1.755M6 14a2 2 0 1 0 0-4a2 2 0 0 0 0 4m11-6a2 2 0 1 0 0-4a2 2 0 0 0 0 4m0 12a2 2 0 1 0 0-4a2 2 0 0 0 0 4" fill=currentColor /></symbol><use href=#ai:ri:share-line></use></svg></button></div></div></div><dialog class="modal modal-bottom sm:modal-middle" data-astro-cid-zghd3z2v id=share_modal><div class="max-w-2xl modal-box rounded-none sm:rounded-xl" data-astro-cid-zghd3z2v><h3 class="text-lg sm:text-xl font-bold mb-6 text-center" data-astro-cid-zghd3z2v>Share this article</h3><div class="flex flex-wrap gap-4 justify-center" data-astro-cid-zghd3z2v><a class="btn transition-transform btn-circle btn-lg hover:scale-110 bg-black hover:bg-gray-800" href="https://twitter.com/intent/tweet/?text=Frosti+Nginx+Waline建站全过程&url=https://www.tankimzeg.top/blog/frosti-nginx-waline-build-website/" target=_blank title="X (Twitter)" data-astro-cid-zghd3z2v rel="noopener noreferrer"><span class=sr-only data-astro-cid-zghd3z2v>X (Twitter)</span> <svg class="text-white h-6 w-6" height=1em width=1em data-icon=ri:twitter-x-line data-astro-cid-zghd3z2v><symbol id=ai:ri:twitter-x-line viewBox="0 0 24 24"><path d="M10.488 14.651L15.25 21h7l-7.858-10.478L20.93 3h-2.65l-5.117 5.886L8.75 3h-7l7.51 10.015L2.32 21h2.65zM16.25 19L5.75 5h2l10.5 14z" fill=currentColor /></symbol><use href=#ai:ri:twitter-x-line></use></svg> </a><a class="btn transition-transform btn-circle btn-lg hover:scale-110 bg-[#26a5e4] hover:bg-[#1e96d1]" href="https://telegram.me/share/url?text=Frosti+Nginx+Waline建站全过程&url=https://www.tankimzeg.top/blog/frosti-nginx-waline-build-website/" target=_blank title=Telegram data-astro-cid-zghd3z2v rel="noopener noreferrer"><span class=sr-only data-astro-cid-zghd3z2v>Telegram</span> <svg class="text-white h-6 w-6" height=1em width=1em data-icon=ri:telegram-line data-astro-cid-zghd3z2v><symbol id=ai:ri:telegram-line viewBox="0 0 24 24"><path d="M20 12a8 8 0 1 1-16 0a8 8 0 0 1 16 0m-8 10c5.523 0 10-4.477 10-10S17.523 2 12 2S2 6.477 2 12s4.477 10 10 10m.358-12.618q-1.458.607-5.831 2.513q-.711.282-.744.552c-.038.304.343.424.862.587l.218.07c.51.166 1.198.36 1.555.368q.486.01 1.084-.4q4.086-2.76 4.218-2.789c.063-.014.149-.032.207.02c.059.052.053.15.047.177c-.038.161-1.534 1.552-2.308 2.271q-.344.324-.683.653c-.474.457-.83.8.02 1.36c.861.568 1.73 1.134 2.57 1.733c.414.296.786.56 1.246.519c.267-.025.543-.276.683-1.026c.332-1.77.983-5.608 1.133-7.19a1.8 1.8 0 0 0-.017-.393a.42.42 0 0 0-.142-.27c-.12-.098-.305-.118-.387-.117c-.376.007-.953.207-3.73 1.362" fill=currentColor /></symbol><use href=#ai:ri:telegram-line></use></svg> </a><a class="btn transition-transform btn-circle btn-lg hover:scale-110 bg-[#ff4500] hover:bg-[#e63e00]" href="https://reddit.com/submit/?url=https://www.tankimzeg.top/blog/frosti-nginx-waline-build-website/&title=Frosti+Nginx+Waline建站全过程" target=_blank title=Reddit data-astro-cid-zghd3z2v rel="noopener noreferrer"><span class=sr-only data-astro-cid-zghd3z2v>Reddit</span> <svg class="text-white h-6 w-6" height=1em width=1em data-icon=ri:reddit-line data-astro-cid-zghd3z2v><symbol id=ai:ri:reddit-line viewBox="0 0 24 24"><path d="m11.053 7.815l.751-3.536a2 2 0 0 1 2.372-1.54l3.196.68a2 2 0 1 1-.415 1.956l-3.197-.68l-.666 3.135c1.785.137 3.558.73 5.164 1.7A3.192 3.192 0 0 1 23 12.203v.021a3.2 3.2 0 0 1-1.207 2.55l-.008.123c0 3.998-4.45 7.03-9.799 7.03c-5.333 0-9.708-3.024-9.705-6.953l-.01-.181a3.193 3.193 0 0 1 3.454-5.35a11.45 11.45 0 0 1 5.329-1.628m9.285 5.526a1.19 1.19 0 0 0 .662-1.075a1.192 1.192 0 0 0-2.016-.806l-.585.56l-.67-.455c-1.615-1.098-3.452-1.725-5.23-1.764h-1.006c-1.875.028-3.652.6-5.237 1.675l-.664.45l-.583-.55a1.192 1.192 0 1 0-1.315 1.952l.633.29l-.053.695a4 4 0 0 0 .003.584c0 2.71 3.356 5.03 7.708 5.03c4.371 0 7.799-2.336 7.802-5.107a3 3 0 0 0 0-.507l-.052-.672zM6.951 13.5a1.5 1.5 0 1 1 3 0a1.5 1.5 0 0 1-3 0m7 0a1.5 1.5 0 1 1 3 0a1.5 1.5 0 0 1-3 0m-1.985 5.103c-1.397 0-2.766-.37-3.881-1.21a.424.424 0 0 1 .597-.597c.945.693 2.123.99 3.269.99s2.33-.275 3.284-.959a.44.44 0 0 1 .732.206a.47.47 0 0 1-.12.423c-.683.797-2.483 1.147-3.88 1.147" fill=currentColor /></symbol><use href=#ai:ri:reddit-line></use></svg> </a><a class="btn transition-transform btn-circle btn-lg hover:scale-110 bg-[#0866ff] hover:bg-[#0755d6]" href="https://facebook.com/sharer/sharer.php?u=https://www.tankimzeg.top/blog/frosti-nginx-waline-build-website/" target=_blank title=Facebook data-astro-cid-zghd3z2v rel="noopener noreferrer"><span class=sr-only data-astro-cid-zghd3z2v>Facebook</span> <svg class="text-white h-6 w-6" height=1em width=1em data-icon=ri:facebook-circle-line data-astro-cid-zghd3z2v><symbol id=ai:ri:facebook-circle-line viewBox="0 0 24 24"><path d="M13.001 19.938a8.001 8.001 0 0 0-1-15.938a8 8 0 0 0-1 15.938V14h-2v-2h2v-1.654c0-1.337.14-1.822.4-2.311A2.73 2.73 0 0 1 12.537 6.9c.382-.205.857-.328 1.687-.381q.494-.032 1.278.08v1.9h-.5c-.917 0-1.296.043-1.522.164a.73.73 0 0 0-.314.314c-.12.226-.164.45-.164 1.368V12h2.5l-.5 2h-2zm-1 2.062c-5.523 0-10-4.477-10-10s4.477-10 10-10s10 4.477 10 10s-4.477 10-10 10" fill=currentColor /></symbol><use href=#ai:ri:facebook-circle-line></use></svg> </a><a class="btn transition-transform btn-circle btn-lg hover:scale-110 bg-gray-600 hover:bg-gray-700" href="mailto:?subject=Frosti+Nginx+Waline建站全过程&#38;body=https://www.tankimzeg.top/blog/frosti-nginx-waline-build-website/" target=_blank title=Email data-astro-cid-zghd3z2v rel="noopener noreferrer"><span class=sr-only data-astro-cid-zghd3z2v>Email</span> <svg class="text-white h-6 w-6" height=1em width=1em data-icon=ri:mail-line data-astro-cid-zghd3z2v><symbol id=ai:ri:mail-line viewBox="0 0 24 24"><path d="M3 3h18a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1m17 4.238l-7.928 7.1L4 7.216V19h16zM4.511 5l7.55 6.662L19.502 5z" fill=currentColor /></symbol><use href=#ai:ri:mail-line></use></svg></a></div><div class=modal-action data-astro-cid-zghd3z2v><form data-astro-cid-zghd3z2v method=dialog><button class="btn btn-ghost hover:scale-105 transition-transform" data-astro-cid-zghd3z2v>Close</button></form></div></div><form data-astro-cid-zghd3z2v method=dialog class=modal-backdrop><button data-astro-cid-zghd3z2v>Close</button></form></dialog></div></div><br><link href=https://unpkg.com/@waline/client@v3/dist/waline-meta.css rel=stylesheet><div class=comment><div id=waline-comment-system data-server-url=https://waline.tankimzeg.top></div></div><script type=module>import{init}from"https://unpkg.com/@waline/client@v3/dist/waline.js";const serverURL=document.getElementById("waline-comment-system").getAttribute("data-server-url");init({el:"#waline-comment-system",serverURL:serverURL,dark:'html[data-theme="dracula"]',reaction:["/reaction/good.png","/reaction/bad.png","/reaction/happy.png","/reaction/color.png","/reaction/confuse.png","/reaction/heart.png","/reaction/rocket.png","/reaction/eyes.png"],emoji:!1,search:!1})</script></div></div><footer class="fade-in-up bg-base-100 p-6 rounded-xl shadow-xl"><div class="items-center flex justify-between container flex-col gap-4 mx-auto sm:flex-row"><div class="items-center flex gap-3"><svg class="transition-transform duration-300 fill-current hover:scale-110" viewBox="0 0 24 24" xmlns=http://www.w3.org/2000/svg clip-rule=evenodd fill-rule=evenodd height=36 width=36><path d="M22.672 15.226l-2.432.811.841 2.515c.33 1.019-.209 2.127-1.23 2.456-1.15.325-2.148-.321-2.463-1.226l-.84-2.518-5.013 1.677.84 2.517c.391 1.203-.434 2.542-1.831 2.542-.88 0-1.601-.564-1.86-1.314l-.842-2.516-2.431.809c-1.135.328-2.145-.317-2.463-1.229-.329-1.018.211-2.127 1.231-2.456l2.432-.809-1.621-4.823-2.432.808c-1.355.384-2.558-.59-2.558-1.839 0-.817.509-1.582 1.327-1.846l2.433-.809-.842-2.515c-.33-1.02.211-2.129 1.232-2.458 1.02-.329 2.13.209 2.461 1.229l.842 2.515 5.011-1.677-.839-2.517c-.403-1.238.484-2.553 1.843-2.553.819 0 1.585.509 1.85 1.326l.841 2.517 2.431-.81c1.02-.33 2.131.211 2.461 1.229.332 1.018-.21 2.126-1.23 2.456l-2.433.809 1.622 4.823 2.433-.809c1.242-.401 2.557.484 2.557 1.838 0 .819-.51 1.583-1.328 1.847m-8.992-6.428l-5.01 1.675 1.619 4.828 5.011-1.674-1.62-4.829z"></path></svg><p class="text-sm text-base-content">Copyright © <a class="items-center font-medium inline-flex gap-1" href=https://www.tankimzeg.top target=_blank>Tan Kimzeg </a>2025 - All right reserved</p></div><nav class="items-center flex gap-2 text-base-content text-sm"><span>Powered by</span> <a class="items-center font-medium inline-flex" href=https://github.com/EveSunMaple/Frosti target=_blank>Frosti Template <span class=text-lg>⚡️</span></a></nav></div></footer></div></main></div></div></body></html>